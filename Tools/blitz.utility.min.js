/* Blitz.js | version : 1.0.1 | author : Jade Zhang | license : MIT */
(function(a,b){"use strict";var c=(navigator||window.navigator).userAgent;window.console||(window.firebug=document.createElement("script"),firebug.setAttribute("src","http://getfirebug.com/releases/lite/1.2/firebug-lite-compressed.js"),document.body.appendChild(firebug),function e(){window.firebug.version?firebug.init():setTimeout(e)}(),void firebug,firebug.onerror=function(){if(!window.console){var a=["log","debug","info","warn","error","assert","dir","dirxml","group","groupEnd","time","timeEnd","count","trace","profile","profileEnd"];window.console={};for(var b=0;b<a.length;++b)window.console[a[b]]=function(){}}});var d=d||{};d.clone=d.clone||function(a){if(Object.create)return Object.create(a);var b=function(){};return b.prototype=a,new b},d.utility={log:function(b){typeof b=="object"&&(this.config._result="",this.getAllObjProp(b),b=this.config._result,this._dispose()),console.log?console.log(b):window.status?window.status=b:a("title").text(a("title").text()+" log:"+b)},getAllObjProp:function(a){for(var b in a)if(a.hasOwnProperty(b))if(typeof a[b]=="object"){var c=this.config.deep++;while(c--)this.config._result+="  ";this.config._result+=b+"--\r\n",this.getAllObjProp(a[b]),this.config.deep--}else{var c=this.config.deep;while(c--)this.config._result+="  ";this.config._result+=b+"-"+a[b]+"\r\n"}},augement:function(a,b){if(arguments.length<2)return a;if(!a||!b||typeof a!="object"&&typeof b!="object")return a;var c=d.clone(b);for(var e in c)a[e]=c[e]},createStyleElemnt:function(a){if(document.all)window.style=a,document.createStyleSheet("javascript:style");else{var b=document.createElement("style");b.type="text/css",b.rel="stylesheet",b.innerHTML=a,document.getElementsByTagName("HEAD")[0].appendChild(b)}},config:{_result:"",_inObj:!1,deep:0},_dispose:function(){this.config={_result:"",_inObj:!1,deep:0}},isIE:0,isIE6:/ie 6/ig.test(c),isIE7:/ie 7/ig.test(c),isIE8:/ie 8/ig.test(c),isIE9:/ie 9/ig.test(c),isIpad:/ipad/ig.test(c),isChrome:/chrome/ig.test(c),isFirefox:/firefox/ig.test(c),isOpera:/opera/ig.test(c),isSafari:c.indexOf("Safari")>-1&&c.indexOf("Chrome")<1,cssCheck:function(a){var c=document.createElement("cssText").style,d="Webkit Moz O ms Khtml".split(" "),e=a.charAt(0).toUpperCase()+a.substr(1),f=(a+" "+d.join(e+" ")+e).split(" ");for(var g in f)if(c[f[g]]!==b)return!0;return!1},flashChecker:function(){var a=0,b=0,c=0;if(c){var d=new ActiveXObject("ShockWaveFlash.ShockWaveFlash");d&&(a=1,VSwf=d.GetVariable("$version"),b=parseInt(VSwf.split(" ")[1].split(",")[0],10))}else if(navigator.plugins&&navigator.plugins.length>0){var d=navigator.plugins["Shockwave Flash"];if(d){a=1;var e=d.description.split(" ");for(var f=0;f<e.length;f++){if(isNaN(e[f]))continue;b=parseInt(e[f],10)}}}return{hasInstall:a||swfobject.hasFlashPlayerVersion("10"),version:b||swfobject.getFlashPlayerVersion().major}},process:function(a,b){var c=null;return function(){var d=arguments,e=this;clearTimeout(c),c=setTimeout(function(){a.apply(e,d)},b)}},getScrollY:function(){return window.pageYOffset||document.documentElement&&document.documentElement.scrollTop||document.body&&document.body.scrollTop},getScrollX:function(){return window.pageXOffset||document.documentElement&&document.documentElement.scrollLeft||document.body&&document.body.scrollLeft},profile:function(a){var b=[].slice.call(arguments,0),c=this;return console&&typeof a=="function"?function(){console.profile(),a.apply(c,b),console.profileEnd()}:function(){var e=+(new Date);a.apply(c,b);var f=+(new Date);d.utility.log("total time:"+f-e)}},purge:function(a){if(typeof a!="object"){this._purge(a);return}var b=a.length;if(b===0)return;var c;for(c=0;c<b;c+=1)this._purge(a[c])},_purge:function(a){if(!a)return;var b=a.attributes,c,d,e;if(b){d=b.length;for(c=0;c<d;c+=1)e=b[c].name,typeof a[e]=="function"&&(a[e]=null)}b=a.childNodes;if(b){d=b.length;for(c=0;c<d;c+=1)this._purge(a.childNodes[c])}},loadTemplate:function(b,c,d,e,f){this.purge(b.children()),a.ajaxSetup({cache:!0}),/ie 6/i.test(navigator.userAgent)&&document.execCommand("BackgroundImageCache",!1,!0),b.setTemplateURL(c+"?siteversion="+window.siteVersion,e,f),b.processTemplate(d)},loadTemplateToText:function(b,c,d,e,f){var g="";a.ajaxSetup({cache:!0}),/ie 6/i.test(navigator.userAgent)&&document.execCommand("BackgroundImageCache",!1,!0);var h;return h=a.createTemplateURL(b+"?siteversion="+window.siteVersion,e,f),g=a.processTemplateToText(h,c,d),g},getUrlValue:function(a){var a=a!==b?a:window.location.href;if(a.indexOf("#")>-1&&a.indexOf("?")>-1)var c=a.replace(/#/i,"&").split("?")[1];else var c=a.split("?")[1];if(c==""||typeof c=="undefined")return{};var d={};c=c.split("&");for(var e=0,f=c.length;e<f;e++)d[c[e].split("=")[0]]=c[e].split("=")[1];return d},setUrlValue:function(a,b){var c=a||window.location.href,d;if(c.indexOf("#")>-1){var d=c.split("#")[1];c=c.split("#")[0]}c.indexOf("?")<0&&(c+="?");var e=getUrlValue(c);for(var f in b)e[f]=b[f];c=c.split("?")[0]+"?";for(var f in e)c+=f+"="+e[f]+"&";return c=c.substr(0,c.length-1),c},proxy:function(a,b){var c=a||this;return function(){return b.apply(a,arguments)}},memoize:function(a){"use strict";var b=a.memoize=a.memoize||{},c=JSON.stringify,d=Array.prototype.slice;return function(){var e=c(d.call(arguments));return e in b?b[e]:b[e]=a.apply(this,arguments)}}},a.util$=d.utility})(jQuery)