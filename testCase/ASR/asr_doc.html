<!DOCTYPE HTML>
<html lang="en-US">
    <head>
        <meta charset="UTF-8">
        <title>ASR Docs</title>
        <link rel="stylesheet" href="../../CSS Framework/module/doc.css" type="text/css" media="screen" title="no title" charset="utf-8"/>
    </head>
    <body>
        <div id="sidebar">
            <h3 id="o">ET.NA.ASR</h3>
            <br/>
            <h5><a href="et_doc.html" target="_blank">See ET_DOC also!</a></h5>
            <ul id="links">
                <li>
                    <a href='#asrOldLocalStartRecord'>- asrOldLocalStartRecord</a>
                </li>
                <li>
                    <a href='#recordReEnabled'>- recordReEnabled</a>
                </li>
                <li>
                    <a href='#PendingTime'>- PendingTime</a>
                </li>
                <li>
                    <a href='#asrCallBackComplete'>- asrCallBackComplete</a>
                </li>
                <li>
                    <a href='#complete'>- complete</a>
                </li>
                <li>
                    <a href='#interrupt'>- interrupt</a>
                </li>
                <li>
                    <a href='#normal'>- normal</a>
                </li>
                <li>
                    <a href='#playback'>- playback</a>
                </li>
                <li>
                    <a href='#playbackComplete'>- playbackComplete</a>
                </li>
                <li>
                    <a href='#prepare'>- prepare</a>
                </li>
                <li>
                    <a href='#process'>- process</a>
                </li>
                <li>
                    <a href='#recording'>- recording</a>
                </li>
                <li>
                    <a href='#start'>- start</a>
                </li>
                <li>
                    <a href='#stopPlayback'>- stopPlayback</a>
                </li>
                <li>
                    <a href='#stop_talkpal'>- stop_talkpal</a>
                </li>
                <li>
                    <a href='#talkpal_recordingComplete'>- talkpal_recordingComplete</a>
                </li>
                <li>
                    <a href='#callback'>- callback</a>
                </li>
                <li>
                    <a href='#asrOldLocalStartRecord'>- asrOldLocalStartRecord</a>
                </li>
                <li>
                    <a href='#recordReEnabled'>- recordReEnabled</a>
                </li>
                <li>
                    <a href='#PendingTime'>- PendingTime</a>
                </li>
                <li>
                    <a href='#Const'>- Const</a>
                </li>
                <li>
                    <a href='#asrCallBackComplete'>- asrCallBackComplete</a>
                </li>
                <li>
                    <a href='#complete'>- complete</a>
                </li>
                <li>
                    <a href='#interrupt'>- interrupt</a>
                </li>
                <li>
                    <a href='#normal'>- normal</a>
                </li>
                <li>
                    <a href='#playback'>- playback</a>
                </li>
                <li>
                    <a href='#playbackComplete'>- playbackComplete</a>
                </li>
                <li>
                    <a href='#prepare'>- prepare</a>
                </li>
                <li>
                    <a href='#process'>- process</a>
                </li>
                <li>
                    <a href='#recording'>- recording</a>
                </li>
                <li>
                    <a href='#start'>- start</a>
                </li>
                <li>
                    <a href='#stopPlayback'>- stopPlayback</a>
                </li>
                <li>
                    <a href='#stop_talkpal'>- stop_talkpal</a>
                </li>
                <li>
                    <a href='#talkpal_recordingComplete'>- talkpal_recordingComplete</a>
                </li>
                <li>
                    <a href='#STATUS'>- STATUS</a>
                </li>
                <li>
                    <a href='#_checkTalkpal'>- _checkTalkpal</a>
                </li>
                <li>
                    <a href='#_isFirst'>- _isFirst</a>
                </li>
                <li>
                    <a href='#_talkpalVersion'>- _talkpalVersion</a>
                </li>
                <li>
                    <a href='#_token'>- _token</a>
                </li>
                <li>
                    <a href='#afterDelay'>- afterDelay</a>
                </li>
                <li>
                    <a href='#asrBtnLoadingChange'>- asrBtnLoadingChange</a>
                </li>
                <li>
                    <a href='#asrIntervalHandler'>- asrIntervalHandler</a>
                </li>
                <li>
                    <a href='#asrMicLevelHistory'>- asrMicLevelHistory</a>
                </li>
                <li>
                    <a href='#autoStopTime'>- autoStopTime</a>
                </li>
                <li>
                    <a href='#beforeDelay'>- beforeDelay</a>
                </li>
                <li>
                    <a href='#callback'>- callback</a>
                </li>
                <li>
                    <a href='#asrOldLocalStartRecord'>- asrOldLocalStartRecord</a>
                </li>
                <li>
                    <a href='#recordReEnabled'>- recordReEnabled</a>
                </li>
                <li>
                    <a href='#PendingTime'>- PendingTime</a>
                </li>
                <li>
                    <a href='#Const'>- Const</a>
                </li>
                <li>
                    <a href='#STATUS'>- STATUS</a>
                </li>
                <li>
                    <a href='#_checkTalkpal'>- _checkTalkpal</a>
                </li>
                <li>
                    <a href='#_isFirst'>- _isFirst</a>
                </li>
                <li>
                    <a href='#_talkpalVersion'>- _talkpalVersion</a>
                </li>
                <li>
                    <a href='#_token'>- _token</a>
                </li>
                <li>
                    <a href='#afterDelay'>- afterDelay</a>
                </li>
                <li>
                    <a href='#asrBtnLoadingChange'>- asrBtnLoadingChange</a>
                </li>
                <li>
                    <a href='#asrIntervalHandler'>- asrIntervalHandler</a>
                </li>
                <li>
                    <a href='#asrMicLevelHistory'>- asrMicLevelHistory</a>
                </li>
                <li>
                    <a href='#autoStopTime'>- autoStopTime</a>
                </li>
                <li>
                    <a href='#beforeDelay'>- beforeDelay</a>
                </li>
                <li>
                    <a href='#channels'>- channels</a>
                </li>
                <li>
                    <a href='#closeMicSettings'>- closeMicSettings</a>
                </li>
                <li>
                    <a href='#commonPlayback'>- commonPlayback</a>
                </li>
                <li>
                    <a href='#destory'>- destory</a>
                </li>
                <li>
                    <a href='#dispose'>- dispose</a>
                </li>
                <li>
                    <a href='#errorCallback'>- errorCallback</a>
                </li>
                <li>
                    <a href='#flashAsrEvent'>- flashAsrEvent</a>
                </li>
                <li>
                    <a href='#flashPlayBackCompleteCallback'>- flashPlayBackCompleteCallback</a>
                </li>
                <li>
                    <a href='#getASRMode'>- getASRMode</a>
                </li>
                <li>
                    <a href='#getErrorCode'>- getErrorCode</a>
                </li>
                <li>
                    <a href='#getLatestRecording'>- getLatestRecording</a>
                </li>
                <li>
                    <a href='#getRecordFlash'>- getRecordFlash</a>
                </li>
                <li>
                    <a href='#getServerASRAudioID'>- getServerASRAudioID</a>
                </li>
                <li>
                    <a href='#getServerRecognizeResult'>- getServerRecognizeResult</a>
                </li>
                <li>
                    <a href='#hideASRNotification'>- hideASRNotification</a>
                </li>
                <li>
                    <a href='#hideAsrPop'>- hideAsrPop</a>
                </li>
                <li>
                    <a href='#initASRBtnHover'>- initASRBtnHover</a>
                </li>
                <li>
                    <a href='#initEvent'>- initEvent</a>
                </li>
                <li>
                    <a href='#isAsrEnabled'>- isAsrEnabled</a>
                </li>
                <li>
                    <a href='#isAsrInstalled'>- isAsrInstalled</a>
                </li>
                <li>
                    <a href='#lazyActiveRecord'>- lazyActiveRecord</a>
                </li>
                <li>
                    <a href='#length'>- length</a>
                </li>
                <li>
                    <a href='#level'>- level</a>
                </li>
                <li>
                    <a href='#loadAsrButton'>- loadAsrButton</a>
                </li>
                <li>
                    <a href='#loadingIconURL'>- loadingIconURL</a>
                </li>
                <li>
                    <a href='#localRecordCallback'>- localRecordCallback</a>
                </li>
                <li>
                    <a href='#localRecordingComplete'>- localRecordingComplete</a>
                </li>
                <li>
                    <a href='#localStartRecognize'>- localStartRecognize</a>
                </li>
                <li>
                    <a href='#manager'>- manager</a>
                </li>
                <li>
                    <a href='#micGain'>- micGain</a>
                </li>
                <li>
                    <a href='#needHidePlayback'>- needHidePlayback</a>
                </li>
                <li>
                    <a href='#playbackComplete'>- playbackComplete</a>
                </li>
                <li>
                    <a href='#popup'>- popup</a>
                </li>
                <li>
                    <a href='#publish'>- publish</a>
                </li>
                <li>
                    <a href='#recognizeComplete'>- recognizeComplete</a>
                </li>
                <li>
                    <a href='#recorderTrace'>- recorderTrace</a>
                </li>
                <li>
                    <a href='#recordingComplete'>- recordingComplete</a>
                </li>
                <li>
                    <a href='#returnRecording'>- returnRecording</a>
                </li>
                <li>
                    <a href='#serverRecordCallback'>- serverRecordCallback</a>
                </li>
                <li>
                    <a href='#serverRecordingComplete'>- serverRecordingComplete</a>
                </li>
                <li>
                    <a href='#serverStartRecognize'>- serverStartRecognize</a>
                </li>
                <li>
                    <a href='#setOldLocalPreference'>- setOldLocalPreference</a>
                </li>
                <li>
                    <a href='#setServerASRAudioID'>- setServerASRAudioID</a>
                </li>
                <li>
                    <a href='#showASRPopMessage'>- showASRPopMessage</a>
                </li>
                <li>
                    <a href='#showAsrPop'>- showAsrPop</a>
                </li>
                <li>
                    <a href='#silenceLevel'>- silenceLevel</a>
                </li>
                <li>
                    <a href='#startOldLocalASRdebug'>- startOldLocalASRdebug</a>
                </li>
                <li>
                    <a href='#startPlayback'>- startPlayback</a>
                </li>
                <li>
                    <a href='#startRecognize'>- startRecognize</a>
                </li>
                <li>
                    <a href='#startRecognizeRecording'>- startRecognizeRecording</a>
                </li>
                <li>
                    <a href='#startRecording'>- startRecording</a>
                </li>
                <li>
                    <a href='#stopPlayback'>- stopPlayback</a>
                </li>
                <li>
                    <a href='#stopRecording'>- stopRecording</a>
                </li>
                <li>
                    <a href='#subscribe'>- subscribe</a>
                </li>
                <li>
                    <a href='#unsubscribe'>- unsubscribe</a>
                </li>
                <li>
                    <a href='#utility'>- utility</a>
                </li>
                <li>
                    <a href='#context'>- context</a>
                </li>
                <li>
                    <a href='#0'>- 0</a>
                </li>
                <li>
                    <a href='#asrCallBackComplete'>- asrCallBackComplete</a>
                </li>
                <li>
                    <a href='#complete'>- complete</a>
                </li>
                <li>
                    <a href='#interrupt'>- interrupt</a>
                </li>
                <li>
                    <a href='#normal'>- normal</a>
                </li>
                <li>
                    <a href='#playback'>- playback</a>
                </li>
                <li>
                    <a href='#playbackComplete'>- playbackComplete</a>
                </li>
                <li>
                    <a href='#preparing'>- preparing</a>
                </li>
                <li>
                    <a href='#processing'>- processing</a>
                </li>
                <li>
                    <a href='#recording'>- recording</a>
                </li>
                <li>
                    <a href='#start'>- start</a>
                </li>
                <li>
                    <a href='#stopPlayback'>- stopPlayback</a>
                </li>
                <li>
                    <a href='#stop_talkpal'>- stop_talkpal</a>
                </li>
                <li>
                    <a href='#talkpal_recordingComplete'>- talkpal_recordingComplete</a>
                </li>
                <li>
                    <a href='#channels'>- channels</a>
                </li>
                <li>
                    <a href='#closeMicSettings'>- closeMicSettings</a>
                </li>
                <li>
                    <a href='#commonPlayback'>- commonPlayback</a>
                </li>
                <li>
                    <a href='#destory'>- destory</a>
                </li>
                <li>
                    <a href='#dispose'>- dispose</a>
                </li>
                <li>
                    <a href='#errorCallback'>- errorCallback</a>
                </li>
                <li>
                    <a href='#flashAsrEvent'>- flashAsrEvent</a>
                </li>
                <li>
                    <a href='#flashPlayBackCompleteCallback'>- flashPlayBackCompleteCallback</a>
                </li>
                <li>
                    <a href='#getASRMode'>- getASRMode</a>
                </li>
                <li>
                    <a href='#getErrorCode'>- getErrorCode</a>
                </li>
                <li>
                    <a href='#getLatestRecording'>- getLatestRecording</a>
                </li>
                <li>
                    <a href='#getRecordFlash'>- getRecordFlash</a>
                </li>
                <li>
                    <a href='#getServerASRAudioID'>- getServerASRAudioID</a>
                </li>
                <li>
                    <a href='#getServerRecognizeResult'>- getServerRecognizeResult</a>
                </li>
                <li>
                    <a href='#hideASRNotification'>- hideASRNotification</a>
                </li>
                <li>
                    <a href='#hideAsrPop'>- hideAsrPop</a>
                </li>
                <li>
                    <a href='#initASRBtnHover'>- initASRBtnHover</a>
                </li>
                <li>
                    <a href='#initEvent'>- initEvent</a>
                </li>
                <li>
                    <a href='#isAsrEnabled'>- isAsrEnabled</a>
                </li>
                <li>
                    <a href='#isAsrInstalled'>- isAsrInstalled</a>
                </li>
                <li>
                    <a href='#lazyActiveRecord'>- lazyActiveRecord</a>
                </li>
                <li>
                    <a href='#length'>- length</a>
                </li>
                <li>
                    <a href='#level'>- level</a>
                </li>
                <li>
                    <a href='#loadAsrButton'>- loadAsrButton</a>
                </li>
                <li>
                    <a href='#loadingIconURL'>- loadingIconURL</a>
                </li>
                <li>
                    <a href='#localRecordCallback'>- localRecordCallback</a>
                </li>
                <li>
                    <a href='#localRecordingComplete'>- localRecordingComplete</a>
                </li>
                <li>
                    <a href='#localStartRecognize'>- localStartRecognize</a>
                </li>
                <li>
                    <a href='#manager'>- manager</a>
                </li>
                <li>
                    <a href='#micGain'>- micGain</a>
                </li>
                <li>
                    <a href='#needHidePlayback'>- needHidePlayback</a>
                </li>
                <li>
                    <a href='#playbackComplete'>- playbackComplete</a>
                </li>
                <li>
                    <a href='#popup'>- popup</a>
                </li>
                <li>
                    <a href='#publish'>- publish</a>
                </li>
                <li>
                    <a href='#recognizeComplete'>- recognizeComplete</a>
                </li>
                <li>
                    <a href='#recorderTrace'>- recorderTrace</a>
                </li>
                <li>
                    <a href='#recordingComplete'>- recordingComplete</a>
                </li>
                <li>
                    <a href='#returnRecording'>- returnRecording</a>
                </li>
                <li>
                    <a href='#serverRecordCallback'>- serverRecordCallback</a>
                </li>
                <li>
                    <a href='#serverRecordingComplete'>- serverRecordingComplete</a>
                </li>
                <li>
                    <a href='#serverStartRecognize'>- serverStartRecognize</a>
                </li>
                <li>
                    <a href='#setOldLocalPreference'>- setOldLocalPreference</a>
                </li>
                <li>
                    <a href='#setServerASRAudioID'>- setServerASRAudioID</a>
                </li>
                <li>
                    <a href='#showASRPopMessage'>- showASRPopMessage</a>
                </li>
                <li>
                    <a href='#showAsrPop'>- showAsrPop</a>
                </li>
                <li>
                    <a href='#silenceLevel'>- silenceLevel</a>
                </li>
                <li>
                    <a href='#startOldLocalASRdebug'>- startOldLocalASRdebug</a>
                </li>
                <li>
                    <a href='#startPlayback'>- startPlayback</a>
                </li>
                <li>
                    <a href='#startRecognize'>- startRecognize</a>
                </li>
                <li>
                    <a href='#startRecognizeRecording'>- startRecognizeRecording</a>
                </li>
                <li>
                    <a href='#startRecording'>- startRecording</a>
                </li>
                <li>
                    <a href='#stopPlayback'>- stopPlayback</a>
                </li>
                <li>
                    <a href='#stopRecording'>- stopRecording</a>
                </li>
                <li>
                    <a href='#subscribe'>- subscribe</a>
                </li>
                <li>
                    <a href='#unsubscribe'>- unsubscribe</a>
                </li>
                <li>
                    <a href='#utility'>- utility</a>
                </li>
                <li>
                    <a href='#context'>- context</a>
                </li>
                <li>
                    <a href='#0'>- 0</a>
                </li>
                <li>
                    <a href='#asrCallBackComplete'>- asrCallBackComplete</a>
                </li>
                <li>
                    <a href='#complete'>- complete</a>
                </li>
                <li>
                    <a href='#interrupt'>- interrupt</a>
                </li>
                <li>
                    <a href='#normal'>- normal</a>
                </li>
                <li>
                    <a href='#playback'>- playback</a>
                </li>
                <li>
                    <a href='#playbackComplete'>- playbackComplete</a>
                </li>
                <li>
                    <a href='#preparing'>- preparing</a>
                </li>
                <li>
                    <a href='#processing'>- processing</a>
                </li>
                <li>
                    <a href='#recording'>- recording</a>
                </li>
                <li>
                    <a href='#start'>- start</a>
                </li>
                <li>
                    <a href='#stopPlayback'>- stopPlayback</a>
                </li>
                <li>
                    <a href='#stop_talkpal'>- stop_talkpal</a>
                </li>
                <li>
                    <a href='#talkpal_recordingComplete'>- talkpal_recordingComplete</a>
                </li>
                <li>
                    <a href='#_changeStatus'>- _changeStatus</a>
                </li>
                <li>
                    <a href='#_log'>- _log</a>
                </li>
                <li>
                    <a href='#asrCallBackComplete'>- asrCallBackComplete</a>
                </li>
                <li>
                    <a href='#complete'>- complete</a>
                </li>
                <li>
                    <a href='#interrupt'>- interrupt</a>
                </li>
                <li>
                    <a href='#normal'>- normal</a>
                </li>
                <li>
                    <a href='#playback'>- playback</a>
                </li>
                <li>
                    <a href='#playbackComplete'>- playbackComplete</a>
                </li>
                <li>
                    <a href='#prepare'>- prepare</a>
                </li>
                <li>
                    <a href='#process'>- process</a>
                </li>
                <li>
                    <a href='#recording'>- recording</a>
                </li>
                <li>
                    <a href='#start'>- start</a>
                </li>
                <li>
                    <a href='#stopPlayback'>- stopPlayback</a>
                </li>
                <li>
                    <a href='#stop_talkpal'>- stop_talkpal</a>
                </li>
                <li>
                    <a href='#talkpal_recordingComplete'>- talkpal_recordingComplete</a>
                </li>
                <li>
                    <a href='#_status'>- _status</a>
                </li>
                <li>
                    <a href='#asrCallBackComplete'>- asrCallBackComplete</a>
                </li>
                <li>
                    <a href='#complete'>- complete</a>
                </li>
                <li>
                    <a href='#init'>- init</a>
                </li>
                <li>
                    <a href='#interrupt'>- interrupt</a>
                </li>
                <li>
                    <a href='#normal'>- normal</a>
                </li>
                <li>
                    <a href='#playback'>- playback</a>
                </li>
                <li>
                    <a href='#playbackComplete'>- playbackComplete</a>
                </li>
                <li>
                    <a href='#prepare'>- prepare</a>
                </li>
                <li>
                    <a href='#process'>- process</a>
                </li>
                <li>
                    <a href='#recording'>- recording</a>
                </li>
                <li>
                    <a href='#start'>- start</a>
                </li>
                <li>
                    <a href='#stopPlayback'>- stopPlayback</a>
                </li>
                <li>
                    <a href='#stop_talkpal'>- stop_talkpal</a>
                </li>
                <li>
                    <a href='#talkpal_recordingComplete'>- talkpal_recordingComplete</a>
                </li>
                <li>
                    <a href='#commands'>- commands</a>
                </li>
                <li>
                    <a href='#execute'>- execute</a>
                </li>
                <li>
                    <a href='#_prepareMicPopup'>- _prepareMicPopup</a>
                </li>
                <li>
                    <a href='#asrDisabled'>- asrDisabled</a>
                </li>
                <li>
                    <a href='#install'>- install</a>
                </li>
                <li>
                    <a href='#micSetting'>- micSetting</a>
                </li>
                <li>
                    <a href='#newVersionSuggest'>- newVersionSuggest</a>
                </li>
                <li>
                    <a href='#noPlugin'>- noPlugin</a>
                </li>
                <li>
                    <a href='#serverUnavilable'>- serverUnavilable</a>
                </li>
                <li>
                    <a href='#_IE6'>- _IE6</a>
                </li>
                <li>
                    <a href='#_IE7_edge'>- _IE7_edge</a>
                </li>
                <li>
                    <a href='#_NA'>- _NA</a>
                </li>
                <li>
                    <a href='#_chrome'>- _chrome</a>
                </li>
                <li>
                    <a href='#_ff'>- _ff</a>
                </li>
                <li>
                    <a href='#_getTalkPalversion'>- _getTalkPalversion</a>
                </li>
                <li>
                    <a href='#_isLocalAsrInstalled'>- _isLocalAsrInstalled</a>
                </li>
                <li>
                    <a href='#_mac'>- _mac</a>
                </li>
                <li>
                    <a href='#_mode'>- _mode</a>
                </li>
                <li>
                    <a href='#_sfa'>- _sfa</a>
                </li>
                <li>
                    <a href='#_ua'>- _ua</a>
                </li>
                <li>
                    <a href='#_win'>- _win</a>
                </li>
                <li>
                    <a href='#asrOpenType'>- asrOpenType</a>
                </li>
                <li>
                    <a href='#isAsrDisabled'>- isAsrDisabled</a>
                </li>
                <li>
                    <a href='#isAsrEnabled'>- isAsrEnabled</a>
                </li>
                <li>
                    <a href='#isAsrInstalled'>- isAsrInstalled</a>
                </li>
                <li>
                    <a href='#isChrome'>- isChrome</a>
                </li>
                <li>
                    <a href='#isFirefox'>- isFirefox</a>
                </li>
                <li>
                    <a href='#isIE'>- isIE</a>
                </li>
                <li>
                    <a href='#isIE6'>- isIE6</a>
                </li>
                <li>
                    <a href='#isIE7'>- isIE7</a>
                </li>
                <li>
                    <a href='#isIE8'>- isIE8</a>
                </li>
                <li>
                    <a href='#isIE9'>- isIE9</a>
                </li>
                <li>
                    <a href='#isIPad'>- isIPad</a>
                </li>
                <li>
                    <a href='#isLocalAsr'>- isLocalAsr</a>
                </li>
                <li>
                    <a href='#isMac'>- isMac</a>
                </li>
                <li>
                    <a href='#isMacSafari'>- isMacSafari</a>
                </li>
                <li>
                    <a href='#isNA'>- isNA</a>
                </li>
                <li>
                    <a href='#isNewAsr'>- isNewAsr</a>
                </li>
                <li>
                    <a href='#isOldAsr'>- isOldAsr</a>
                </li>
                <li>
                    <a href='#isOpera'>- isOpera</a>
                </li>
                <li>
                    <a href='#isSafari'>- isSafari</a>
                </li>
                <li>
                    <a href='#isServerAsr'>- isServerAsr</a>
                </li>
                <li>
                    <a href='#isServerAsrAvaliable'>- isServerAsrAvaliable</a>
                </li>
                <li>
                    <a href='#isWindows'>- isWindows</a>
                </li>
            </ul>
        </div>
        <ul id="a">
            <li class='l' id=asrOldLocalStartRecord>
                <h3>asrOldLocalStartRecord:<i> ( lines: 1 characters: 2 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="lit">50</span></pre>
</li>            <li class='l' id=recordReEnabled>
                <h3>recordReEnabled:<i> ( lines: 1 characters: 4 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="lit">1000</span></pre>
</li>            <li class='l' id=PendingTime>
                <h3>PendingTime:<i> ( lines: undefined characters: undefined arguments: 0 )</i></h3>
                <br>
                <pre>  </pre>
</li>            <li class='l' id=asrCallBackComplete>
                <h3>asrCallBackComplete:<i> ( lines: 1 characters: 19 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pln">asrCallBackComplete</span></pre>
</li>            <li class='l' id=complete>
                <h3>complete:<i> ( lines: 1 characters: 8 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pln">complete</span></pre>
</li>            <li class='l' id=interrupt>
                <h3>interrupt:<i> ( lines: 1 characters: 9 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pln">interrupt</span></pre>
</li>            <li class='l' id=normal>
                <h3>normal:<i> ( lines: 1 characters: 6 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pln">normal</span></pre>
</li>            <li class='l' id=playback>
                <h3>playback:<i> ( lines: 1 characters: 8 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pln">playback</span></pre>
</li>            <li class='l' id=playbackComplete>
                <h3>playbackComplete:<i> ( lines: 1 characters: 16 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pln">playbackComplete</span></pre>
</li>            <li class='l' id=prepare>
                <h3>prepare:<i> ( lines: 1 characters: 9 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pln">preparing</span></pre>
</li>            <li class='l' id=process>
                <h3>process:<i> ( lines: 1 characters: 10 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pln">processing</span></pre>
</li>            <li class='l' id=recording>
                <h3>recording:<i> ( lines: 1 characters: 9 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pln">recording</span></pre>
</li>            <li class='l' id=start>
                <h3>start:<i> ( lines: 1 characters: 5 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pln">start</span></pre>
</li>            <li class='l' id=stopPlayback>
                <h3>stopPlayback:<i> ( lines: 1 characters: 12 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pln">stopPlayback</span></pre>
</li>            <li class='l' id=stop_talkpal>
                <h3>stop_talkpal:<i> ( lines: 1 characters: 12 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pln">stop_talkpal</span></pre>
</li>            <li class='l' id=talkpal_recordingComplete>
                <h3>talkpal_recordingComplete:<i> ( lines: 1 characters: 25 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pln">talkpal_recordingComplete</span></pre>
</li>            <li class='l' id=callback>
                <h3>callback:<i> ( lines: 10 characters: 409 arguments: 2 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">callback</span><span class="pun">,</span><span class="pln"> xml</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">manager</span><span class="pun">.</span><span class="pln">execute</span><span class="pun">(</span><span class="str">'_changeStatus'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'asrCallBackComplete'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">window</span><span class="pun">[</span><span class="str">'asr_token'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">!==</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">_token</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Player</span><span class="pun">.</span><span class="pln">isRecording </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">manager</span><span class="pun">.</span><span class="pln">execute</span><span class="pun">(</span><span class="str">'_changeStatus'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'complete'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">callback</span><span class="pun">)</span><span class="pln"> callback</span><span class="pun">(</span><span class="pln">xml</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=asrOldLocalStartRecord>
                <h3>asrOldLocalStartRecord:<i> ( lines: 1 characters: 2 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="lit">50</span></pre>
</li>            <li class='l' id=recordReEnabled>
                <h3>recordReEnabled:<i> ( lines: 1 characters: 4 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="lit">1000</span></pre>
</li>            <li class='l' id=PendingTime>
                <h3>PendingTime:<i> ( lines: undefined characters: undefined arguments: 0 )</i></h3>
                <br>
                <pre>  </pre>
</li>            <li class='l' id=Const>
                <h3>Const:<i> ( lines: undefined characters: undefined arguments: 0 )</i></h3>
                <br>
                <pre>  </pre>
</li>            <li class='l' id=asrCallBackComplete>
                <h3>asrCallBackComplete:<i> ( lines: 1 characters: 19 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pln">asrCallBackComplete</span></pre>
</li>            <li class='l' id=complete>
                <h3>complete:<i> ( lines: 1 characters: 8 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pln">complete</span></pre>
</li>            <li class='l' id=interrupt>
                <h3>interrupt:<i> ( lines: 1 characters: 9 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pln">interrupt</span></pre>
</li>            <li class='l' id=normal>
                <h3>normal:<i> ( lines: 1 characters: 6 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pln">normal</span></pre>
</li>            <li class='l' id=playback>
                <h3>playback:<i> ( lines: 1 characters: 8 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pln">playback</span></pre>
</li>            <li class='l' id=playbackComplete>
                <h3>playbackComplete:<i> ( lines: 1 characters: 16 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pln">playbackComplete</span></pre>
</li>            <li class='l' id=prepare>
                <h3>prepare:<i> ( lines: 1 characters: 9 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pln">preparing</span></pre>
</li>            <li class='l' id=process>
                <h3>process:<i> ( lines: 1 characters: 10 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pln">processing</span></pre>
</li>            <li class='l' id=recording>
                <h3>recording:<i> ( lines: 1 characters: 9 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pln">recording</span></pre>
</li>            <li class='l' id=start>
                <h3>start:<i> ( lines: 1 characters: 5 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pln">start</span></pre>
</li>            <li class='l' id=stopPlayback>
                <h3>stopPlayback:<i> ( lines: 1 characters: 12 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pln">stopPlayback</span></pre>
</li>            <li class='l' id=stop_talkpal>
                <h3>stop_talkpal:<i> ( lines: 1 characters: 12 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pln">stop_talkpal</span></pre>
</li>            <li class='l' id=talkpal_recordingComplete>
                <h3>talkpal_recordingComplete:<i> ( lines: 1 characters: 25 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pln">talkpal_recordingComplete</span></pre>
</li>            <li class='l' id=STATUS>
                <h3>STATUS:<i> ( lines: undefined characters: undefined arguments: 0 )</i></h3>
                <br>
                <pre>  </pre>
</li>            <li class='l' id=_checkTalkpal>
                <h3>_checkTalkpal:<i> ( lines: 11 characters: 262 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">utility</span><span class="pun">.</span><span class="pln">isMacSafari</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">popup</span><span class="pun">.</span><span class="pln">install</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">popup</span><span class="pun">.</span><span class="pln">newVersionSuggest</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">/*if (ET.NA.ASR._checkTalkpal &amp;&amp; ET.NA.ASR._checkTalkpal._executed) { </span><br><span class="com"> return; </span><br><span class="com"> } */</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=_isFirst>
                <h3>_isFirst:<i> ( lines: 1 characters: 4 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">true</span></pre>
</li>            <li class='l' id=_talkpalVersion>
                <h3>_talkpalVersion:<i> ( lines: 1 characters: 3 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="lit">0.0</span></pre>
</li>            <li class='l' id=_token>
                <h3>_token:<i> ( lines: 1 characters: 36 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="lit">916D7F38</span><span class="pun">-</span><span class="pln">B02A</span><span class="pun">-</span><span class="lit">4701</span><span class="pun">-</span><span class="pln">A02D</span><span class="pun">-</span><span class="pln">A096CA0903D1</span></pre>
</li>            <li class='l' id=afterDelay>
                <h3>afterDelay:<i> ( lines: 1 characters: 1 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="lit">2</span></pre>
</li>            <li class='l' id=asrBtnLoadingChange>
                <h3>asrBtnLoadingChange:<i> ( lines: 37 characters: 1817 arguments: 2 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">content</span><span class="pun">,</span><span class="pln"> show</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> _self </span><span class="pun">=</span><span class="pln"> $j</span><span class="pun">(</span><span class="str">".act-asr_rec_btn"</span><span class="pun">),</span><span class="pln"> _recorder </span><span class="pun">=</span><span class="pln"> _self</span><span class="pun">.</span><span class="pln">parents</span><span class="pun">(</span><span class="str">'.act-player_icon'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">recorderTrace</span><span class="pun">(</span><span class="str">"asrBtnLoadingChange:"</span><span class="pun">+</span><span class="pln">content</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">arguments</span><span class="pun">.</span><span class="pln">length </span><span class="pun">===</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_self</span><span class="pun">.</span><span class="pln">hasClass</span><span class="pun">(</span><span class="str">"act-asr_rec_btn_bg_processing"</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> _self</span><span class="pun">.</span><span class="pln">removeClass</span><span class="pun">(</span><span class="str">"act-asr_rec_btn_bg_processing"</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="str">".act-asr_rec_popup_msg_expand"</span><span class="pun">).</span><span class="pln">addClass</span><span class="pun">(</span><span class="str">'act-hide'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="str">"#activity .act-asr_rec_popup_msg_title"</span><span class="pun">).</span><span class="pln">text</span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">text</span><span class="pun">.</span><span class="pln">startrecord</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">config</span><span class="pun">.</span><span class="pln">isIpad</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="str">"#activity .act-asr_rec_popup_msg_title"</span><span class="pun">).</span><span class="pln">text</span><span class="pun">(</span><span class="pln">content</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">show </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">getASRMode</span><span class="pun">()</span><span class="pln"> </span><span class="pun">!==</span><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">config</span><span class="pun">.</span><span class="pln">asrOldLocalMode </span><span class="pun">||</span><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">_talkpalVersion </span><span class="pun">&gt;</span><span class="pln"> </span><span class="str">'4.5'</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> _self</span><span class="pun">.</span><span class="pln">addClass</span><span class="pun">(</span><span class="str">"act-asr_rec_btn_bg_processing"</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_self</span><span class="pun">.</span><span class="pln">hasClass</span><span class="pun">(</span><span class="str">"act-asr_rec_btn_bg_processing"</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> _self</span><span class="pun">.</span><span class="pln">removeClass</span><span class="pun">(</span><span class="str">"act-asr_rec_btn_bg_processing"</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">show</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="str">"#act-rec_loading_img"</span><span class="pun">).</span><span class="pln">removeClass</span><span class="pun">(</span><span class="str">"act-hide"</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="str">"#act-rec_loading_img"</span><span class="pun">).</span><span class="pln">addClass</span><span class="pun">(</span><span class="str">"act-hide"</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">/* asr ui change */</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="str">"#activity .act-asr_tips"</span><span class="pun">).</span><span class="pln">text</span><span class="pun">(</span><span class="pln">content</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">config</span><span class="pun">.</span><span class="pln">isIE7 </span><span class="pun">||</span><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">config</span><span class="pun">.</span><span class="pln">isIE6</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> jQuery</span><span class="pun">(</span><span class="str">".act-asr_rec_popup_msg_detail"</span><span class="pun">).</span><span class="pln">css</span><span class="pun">(</span><span class="str">'zoom'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'0'</span><span class="pun">);</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="str">".act-asr_rec_popup_msg_detail"</span><span class="pun">).</span><span class="pln">text</span><span class="pun">(</span><span class="str">""</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">/*add for asr button status change to click*/</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">content </span><span class="pun">===</span><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">text</span><span class="pun">.</span><span class="pln">recording </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="pun">!</span><span class="pln">_recorder</span><span class="pun">.</span><span class="pln">hasClass</span><span class="pun">(</span><span class="str">'act-player_rd_c'</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> _recorder</span><span class="pun">.</span><span class="pln">addClass</span><span class="pun">(</span><span class="str">'act-player_rd_c'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=asrIntervalHandler>
                <h3>asrIntervalHandler:<i> ( lines: 25 characters: 1127 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">publish</span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">STATUS</span><span class="pun">.</span><span class="pln">recording</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> _micLevel </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(~</span><span class="pln">navigator</span><span class="pun">.</span><span class="pln">appName</span><span class="pun">.</span><span class="pln">indexOf</span><span class="pun">(</span><span class="str">"Microsoft"</span><span class="pun">)</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> window</span><span class="pun">.</span><span class="typ">WaveRecorder</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> document</span><span class="pun">.</span><span class="typ">WaveRecorder</span><span class="pun">).</span><span class="pln">getMicActivity</span><span class="pun">(),</span><span class="pln"> </span><br><span class="pln"> _micHis </span><span class="pun">=</span><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">asrMicLevelHistory</span><span class="pun">,</span><span class="pln"> </span><br><span class="pln"> _len </span><span class="pun">=</span><span class="pln"> _micHis</span><span class="pun">.</span><span class="pln">push</span><span class="pun">(</span><span class="pln">_micLevel</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> _micHis</span><span class="pun">.</span><span class="pln">length</span><span class="pun">,</span><span class="pln"> </span><br><span class="pln"> _indicator </span><span class="pun">=</span><span class="pln"> $j</span><span class="pun">(</span><span class="str">".act-asr_indicator_activity"</span><span class="pun">),</span><span class="pln"> </span><br><span class="pln"> _msgTitle </span><span class="pun">=</span><span class="pln"> $j</span><span class="pun">(</span><span class="str">'.act-asr_rec_popup_msg_title'</span><span class="pun">),</span><span class="pln"> </span><br><span class="pln"> _sumVolumn </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> _avgVolumn </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">10</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><br><span class="pln"> </span><span class="pun">(</span><span class="pln">_micLevel </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">10</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> _micLevel </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">90</span><span class="pun">)</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> _indicator</span><span class="pun">.</span><span class="pln">addClass</span><span class="pun">(</span><span class="str">'act-asr_indicator_activity_warning'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> _indicator</span><span class="pun">.</span><span class="pln">removeClass</span><span class="pun">(</span><span class="str">'act-asr_indicator_activity_warning'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> _indicator</span><span class="pun">.</span><span class="pln">width</span><span class="pun">(</span><span class="pln">_micLevel </span><span class="pun">+</span><span class="pln"> </span><span class="str">"%"</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_len </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">20</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="pun">!</span><span class="pln">$j</span><span class="pun">(</span><span class="str">'.act-asr_rec_btn'</span><span class="pun">).</span><span class="pln">hasClass</span><span class="pun">(</span><span class="str">'act-asr_rec_btn_bg_processing'</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(;</span><span class="pln"> i</span><span class="pun">--;</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> _sumVolumn </span><span class="pun">+=</span><span class="pln"> _micHis</span><span class="pun">[</span><span class="pln">_len </span><span class="pun">-</span><span class="pln"> i </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">];</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> _avgVolumn </span><span class="pun">=</span><span class="pln"> _sumVolumn </span><span class="pun">/</span><span class="pln"> </span><span class="lit">10</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_avgVolumn </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">5</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> _msgTitle</span><span class="pun">.</span><span class="pln">text</span><span class="pun">(</span><span class="str">'Voice too low...'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_avgVolumn </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">90</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> _msgTitle</span><span class="pun">.</span><span class="pln">text</span><span class="pun">(</span><span class="str">'Voice too high...'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> _msgTitle</span><span class="pun">.</span><span class="pln">text</span><span class="pun">(</span><span class="str">'Voice is good...'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=asrMicLevelHistory>
                <h3>asrMicLevelHistory:<i> ( lines: undefined characters: undefined arguments: 0 )</i></h3>
                <br>
                <pre>  </pre>
</li>            <li class='l' id=autoStopTime>
                <h3>autoStopTime:<i> ( lines: 1 characters: 1 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="lit">3</span></pre>
</li>            <li class='l' id=beforeDelay>
                <h3>beforeDelay:<i> ( lines: 1 characters: 1 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="lit">5</span></pre>
</li>            <li class='l' id=callback>
                <h3>callback:<i> ( lines: 10 characters: 409 arguments: 2 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">callback</span><span class="pun">,</span><span class="pln"> xml</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">manager</span><span class="pun">.</span><span class="pln">execute</span><span class="pun">(</span><span class="str">'_changeStatus'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'asrCallBackComplete'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">window</span><span class="pun">[</span><span class="str">'asr_token'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">!==</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">_token</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Player</span><span class="pun">.</span><span class="pln">isRecording </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">manager</span><span class="pun">.</span><span class="pln">execute</span><span class="pun">(</span><span class="str">'_changeStatus'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'complete'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">callback</span><span class="pun">)</span><span class="pln"> callback</span><span class="pun">(</span><span class="pln">xml</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=asrOldLocalStartRecord>
                <h3>asrOldLocalStartRecord:<i> ( lines: 1 characters: 2 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="lit">50</span></pre>
</li>            <li class='l' id=recordReEnabled>
                <h3>recordReEnabled:<i> ( lines: 1 characters: 4 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="lit">1000</span></pre>
</li>            <li class='l' id=PendingTime>
                <h3>PendingTime:<i> ( lines: undefined characters: undefined arguments: 0 )</i></h3>
                <br>
                <pre>  </pre>
</li>            <li class='l' id=Const>
                <h3>Const:<i> ( lines: undefined characters: undefined arguments: 0 )</i></h3>
                <br>
                <pre>  </pre>
</li>            <li class='l' id=STATUS>
                <h3>STATUS:<i> ( lines: undefined characters: undefined arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pun">[</span><span class="pln">object </span><span class="typ">Object</span><span class="pun">]</span></pre>
</li>            <li class='l' id=_checkTalkpal>
                <h3>_checkTalkpal:<i> ( lines: 11 characters: 262 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">utility</span><span class="pun">.</span><span class="pln">isMacSafari</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">popup</span><span class="pun">.</span><span class="pln">install</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">popup</span><span class="pun">.</span><span class="pln">newVersionSuggest</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">/*if (ET.NA.ASR._checkTalkpal &amp;&amp; ET.NA.ASR._checkTalkpal._executed) { </span><br><span class="com"> return; </span><br><span class="com"> } */</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=_isFirst>
                <h3>_isFirst:<i> ( lines: 1 characters: 4 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">true</span></pre>
</li>            <li class='l' id=_talkpalVersion>
                <h3>_talkpalVersion:<i> ( lines: 1 characters: 3 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="lit">0.0</span></pre>
</li>            <li class='l' id=_token>
                <h3>_token:<i> ( lines: 1 characters: 36 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="lit">916D7F38</span><span class="pun">-</span><span class="pln">B02A</span><span class="pun">-</span><span class="lit">4701</span><span class="pun">-</span><span class="pln">A02D</span><span class="pun">-</span><span class="pln">A096CA0903D1</span></pre>
</li>            <li class='l' id=afterDelay>
                <h3>afterDelay:<i> ( lines: 1 characters: 1 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="lit">2</span></pre>
</li>            <li class='l' id=asrBtnLoadingChange>
                <h3>asrBtnLoadingChange:<i> ( lines: 37 characters: 1817 arguments: 2 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">content</span><span class="pun">,</span><span class="pln"> show</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> _self </span><span class="pun">=</span><span class="pln"> $j</span><span class="pun">(</span><span class="str">".act-asr_rec_btn"</span><span class="pun">),</span><span class="pln"> _recorder </span><span class="pun">=</span><span class="pln"> _self</span><span class="pun">.</span><span class="pln">parents</span><span class="pun">(</span><span class="str">'.act-player_icon'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">recorderTrace</span><span class="pun">(</span><span class="str">"asrBtnLoadingChange:"</span><span class="pun">+</span><span class="pln">content</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">arguments</span><span class="pun">.</span><span class="pln">length </span><span class="pun">===</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_self</span><span class="pun">.</span><span class="pln">hasClass</span><span class="pun">(</span><span class="str">"act-asr_rec_btn_bg_processing"</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> _self</span><span class="pun">.</span><span class="pln">removeClass</span><span class="pun">(</span><span class="str">"act-asr_rec_btn_bg_processing"</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="str">".act-asr_rec_popup_msg_expand"</span><span class="pun">).</span><span class="pln">addClass</span><span class="pun">(</span><span class="str">'act-hide'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="str">"#activity .act-asr_rec_popup_msg_title"</span><span class="pun">).</span><span class="pln">text</span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">text</span><span class="pun">.</span><span class="pln">startrecord</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">config</span><span class="pun">.</span><span class="pln">isIpad</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="str">"#activity .act-asr_rec_popup_msg_title"</span><span class="pun">).</span><span class="pln">text</span><span class="pun">(</span><span class="pln">content</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">show </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">getASRMode</span><span class="pun">()</span><span class="pln"> </span><span class="pun">!==</span><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">config</span><span class="pun">.</span><span class="pln">asrOldLocalMode </span><span class="pun">||</span><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">_talkpalVersion </span><span class="pun">&gt;</span><span class="pln"> </span><span class="str">'4.5'</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> _self</span><span class="pun">.</span><span class="pln">addClass</span><span class="pun">(</span><span class="str">"act-asr_rec_btn_bg_processing"</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_self</span><span class="pun">.</span><span class="pln">hasClass</span><span class="pun">(</span><span class="str">"act-asr_rec_btn_bg_processing"</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> _self</span><span class="pun">.</span><span class="pln">removeClass</span><span class="pun">(</span><span class="str">"act-asr_rec_btn_bg_processing"</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">show</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="str">"#act-rec_loading_img"</span><span class="pun">).</span><span class="pln">removeClass</span><span class="pun">(</span><span class="str">"act-hide"</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="str">"#act-rec_loading_img"</span><span class="pun">).</span><span class="pln">addClass</span><span class="pun">(</span><span class="str">"act-hide"</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">/* asr ui change */</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="str">"#activity .act-asr_tips"</span><span class="pun">).</span><span class="pln">text</span><span class="pun">(</span><span class="pln">content</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">config</span><span class="pun">.</span><span class="pln">isIE7 </span><span class="pun">||</span><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">config</span><span class="pun">.</span><span class="pln">isIE6</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> jQuery</span><span class="pun">(</span><span class="str">".act-asr_rec_popup_msg_detail"</span><span class="pun">).</span><span class="pln">css</span><span class="pun">(</span><span class="str">'zoom'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'0'</span><span class="pun">);</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="str">".act-asr_rec_popup_msg_detail"</span><span class="pun">).</span><span class="pln">text</span><span class="pun">(</span><span class="str">""</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">/*add for asr button status change to click*/</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">content </span><span class="pun">===</span><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">text</span><span class="pun">.</span><span class="pln">recording </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="pun">!</span><span class="pln">_recorder</span><span class="pun">.</span><span class="pln">hasClass</span><span class="pun">(</span><span class="str">'act-player_rd_c'</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> _recorder</span><span class="pun">.</span><span class="pln">addClass</span><span class="pun">(</span><span class="str">'act-player_rd_c'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=asrIntervalHandler>
                <h3>asrIntervalHandler:<i> ( lines: 25 characters: 1127 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">publish</span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">STATUS</span><span class="pun">.</span><span class="pln">recording</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> _micLevel </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(~</span><span class="pln">navigator</span><span class="pun">.</span><span class="pln">appName</span><span class="pun">.</span><span class="pln">indexOf</span><span class="pun">(</span><span class="str">"Microsoft"</span><span class="pun">)</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> window</span><span class="pun">.</span><span class="typ">WaveRecorder</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> document</span><span class="pun">.</span><span class="typ">WaveRecorder</span><span class="pun">).</span><span class="pln">getMicActivity</span><span class="pun">(),</span><span class="pln"> </span><br><span class="pln"> _micHis </span><span class="pun">=</span><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">asrMicLevelHistory</span><span class="pun">,</span><span class="pln"> </span><br><span class="pln"> _len </span><span class="pun">=</span><span class="pln"> _micHis</span><span class="pun">.</span><span class="pln">push</span><span class="pun">(</span><span class="pln">_micLevel</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> _micHis</span><span class="pun">.</span><span class="pln">length</span><span class="pun">,</span><span class="pln"> </span><br><span class="pln"> _indicator </span><span class="pun">=</span><span class="pln"> $j</span><span class="pun">(</span><span class="str">".act-asr_indicator_activity"</span><span class="pun">),</span><span class="pln"> </span><br><span class="pln"> _msgTitle </span><span class="pun">=</span><span class="pln"> $j</span><span class="pun">(</span><span class="str">'.act-asr_rec_popup_msg_title'</span><span class="pun">),</span><span class="pln"> </span><br><span class="pln"> _sumVolumn </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> _avgVolumn </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">10</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><br><span class="pln"> </span><span class="pun">(</span><span class="pln">_micLevel </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">10</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> _micLevel </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">90</span><span class="pun">)</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> _indicator</span><span class="pun">.</span><span class="pln">addClass</span><span class="pun">(</span><span class="str">'act-asr_indicator_activity_warning'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> _indicator</span><span class="pun">.</span><span class="pln">removeClass</span><span class="pun">(</span><span class="str">'act-asr_indicator_activity_warning'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> _indicator</span><span class="pun">.</span><span class="pln">width</span><span class="pun">(</span><span class="pln">_micLevel </span><span class="pun">+</span><span class="pln"> </span><span class="str">"%"</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_len </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">20</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="pun">!</span><span class="pln">$j</span><span class="pun">(</span><span class="str">'.act-asr_rec_btn'</span><span class="pun">).</span><span class="pln">hasClass</span><span class="pun">(</span><span class="str">'act-asr_rec_btn_bg_processing'</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(;</span><span class="pln"> i</span><span class="pun">--;</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> _sumVolumn </span><span class="pun">+=</span><span class="pln"> _micHis</span><span class="pun">[</span><span class="pln">_len </span><span class="pun">-</span><span class="pln"> i </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">];</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> _avgVolumn </span><span class="pun">=</span><span class="pln"> _sumVolumn </span><span class="pun">/</span><span class="pln"> </span><span class="lit">10</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_avgVolumn </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">5</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> _msgTitle</span><span class="pun">.</span><span class="pln">text</span><span class="pun">(</span><span class="str">'Voice too low...'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_avgVolumn </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">90</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> _msgTitle</span><span class="pun">.</span><span class="pln">text</span><span class="pun">(</span><span class="str">'Voice too high...'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> _msgTitle</span><span class="pun">.</span><span class="pln">text</span><span class="pun">(</span><span class="str">'Voice is good...'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=asrMicLevelHistory>
                <h3>asrMicLevelHistory:<i> ( lines: undefined characters: undefined arguments: 0 )</i></h3>
                <br>
                <pre>  </pre>
</li>            <li class='l' id=autoStopTime>
                <h3>autoStopTime:<i> ( lines: 1 characters: 1 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="lit">3</span></pre>
</li>            <li class='l' id=beforeDelay>
                <h3>beforeDelay:<i> ( lines: 1 characters: 1 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="lit">5</span></pre>
</li>            <li class='l' id=channels>
                <h3>channels:<i> ( lines: undefined characters: undefined arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pun">[</span><span class="pln">object </span><span class="typ">Object</span><span class="pun">]</span></pre>
</li>            <li class='l' id=closeMicSettings>
                <h3>closeMicSettings:<i> ( lines: 3 characters: 102 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="str">"#micsettings"</span><span class="pun">).</span><span class="pln">removeClass</span><span class="pun">(</span><span class="str">"micsettings_show"</span><span class="pun">).</span><span class="pln">addClass</span><span class="pun">(</span><span class="str">"micsettings_hide"</span><span class="pun">);</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=commonPlayback>
                <h3>commonPlayback:<i> ( lines: 15 characters: 677 arguments: 2 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">onComplete</span><span class="pun">,</span><span class="pln"> data</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//1.stop all player </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="pln">dispose</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//2.disable asr but not for speaking_chllange </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">jQuery</span><span class="pun">(</span><span class="str">'.act-player_icon'</span><span class="pun">).</span><span class="pln">hasClass</span><span class="pun">(</span><span class="str">'act-player_rd_d'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> template_id </span><span class="pun">!==</span><span class="pln"> </span><span class="lit">27</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> jQuery</span><span class="pun">(</span><span class="str">'.act-player_icon'</span><span class="pun">).</span><span class="pln">addClass</span><span class="pun">(</span><span class="str">'act-player_rd_d'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//3.call startPlayback but not for speaking_chllange </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">startPlayback</span><span class="pun">(</span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">jQuery</span><span class="pun">(</span><span class="str">'.act-player_icon'</span><span class="pun">).</span><span class="pln">hasClass</span><span class="pun">(</span><span class="str">'act-player_rd_d'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> template_id </span><span class="pun">!==</span><span class="pln"> </span><span class="lit">27</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> jQuery</span><span class="pun">(</span><span class="str">'.act-player_icon'</span><span class="pun">).</span><span class="pln">removeClass</span><span class="pun">(</span><span class="str">'act-player_rd_d'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">onComplete </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="kwd">typeof</span><span class="pln"> onComplete </span><span class="pun">===</span><span class="pln"> </span><span class="str">'function'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> onComplete</span><span class="pun">();</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">},</span><span class="pln"> data</span><span class="pun">);</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=destory>
                <h3>destory:<i> ( lines: 3 characters: 49 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">channels </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{};</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=dispose>
                <h3>dispose:<i> ( lines: 9 characters: 269 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Touch</span><span class="pun">.</span><span class="pln">isiPad</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">stopRecordingDelegate</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Player</span><span class="pun">.</span><span class="pln">isRecording</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">publish</span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">STATUS</span><span class="pun">.</span><span class="pln">interrupt</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">stopRecording</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=errorCallback>
                <h3>errorCallback:<i> ( lines: 48 characters: 2473 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Popup</span><span class="pun">.</span><span class="pln">close</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> isSpeakChallenge </span><span class="pun">=</span><span class="pln"> template_id </span><span class="pun">===</span><span class="pln"> </span><span class="lit">27</span><span class="pun">,</span><span class="pln"> </span><br><span class="pln"> content </span><span class="pun">=</span><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">text</span><span class="pun">.</span><span class="pln">asrFailed</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><br><span class="pln"> </span><span class="com">/*switch (template_id) { </span><br><span class="com"> case 17: //rpm </span><br><span class="com"> case 29: //lcp </span><br><span class="com"> case 27: content = ET.School.UI.Common.Const.text.asrFailedWithoutTyping; break; //SpeakingChallenge </span><br><span class="com"> default: break; </span><br><span class="com"> }*/</span><span class="pln"> </span><br><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">utility</span><span class="pun">.</span><span class="pln">isServerAsrAvaliable </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">isSpeakChallenge</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">popup</span><span class="pun">.</span><span class="pln">serverUnavilable</span><span class="pun">(</span><span class="pln">isSpeakChallenge</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Popup</span><span class="pun">.</span><span class="pln">onYesClick </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//window.location.reload();//this code will cause UI display error </span><br><span class="pln"> </span><span class="kwd">switch</span><span class="pln"> </span><span class="pun">(</span><span class="pln">template_id</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">case</span><span class="pln"> </span><span class="lit">11</span><span class="pun">:</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">$j</span><span class="pun">(</span><span class="str">"#act-fc_popup_shadow"</span><span class="pun">).</span><span class="pln">length </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="str">"#act-fc_popup_shadow"</span><span class="pun">).</span><span class="pln">remove</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="str">".act-card_bg"</span><span class="pun">).</span><span class="pln">remove</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> thislayMode </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Number</span><span class="pun">(</span><span class="pln">jsonData</span><span class="pun">.</span><span class="typ">Activity</span><span class="pun">.</span><span class="typ">LayMode</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">thislayMode </span><span class="pun">==</span><span class="pln"> </span><span class="lit">2</span><span class="pun">)</span><span class="pln"> </span><span class="com">//presentation </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Activity</span><span class="pun">.</span><span class="typ">FlashCardBase</span><span class="pun">.</span><span class="pln">ready</span><span class="pun">(</span><span class="pln">jsonData</span><span class="pun">,</span><span class="pln"> </span><span class="str">"card_practice"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">thislayMode </span><span class="pun">==</span><span class="pln"> </span><span class="lit">3</span><span class="pun">)</span><span class="pln"> </span><span class="com">//presentation &amp; excise </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Activity</span><span class="pun">.</span><span class="typ">FlashCardBase</span><span class="pun">.</span><span class="pln">ready</span><span class="pun">(</span><span class="pln">jsonData</span><span class="pun">,</span><span class="pln"> </span><span class="str">"card_practice"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">thislayMode </span><span class="pun">==</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="com">//excise </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Activity</span><span class="pun">.</span><span class="typ">FlashCardBase</span><span class="pun">.</span><span class="pln">ready</span><span class="pun">(</span><span class="pln">jsonData</span><span class="pun">,</span><span class="pln"> </span><span class="str">"card_excise"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"> </span><span class="com">//fc </span><br><span class="pln"> </span><span class="kwd">case</span><span class="pln"> </span><span class="lit">16</span><span class="pun">:</span><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Activity</span><span class="pun">.</span><span class="typ">RoleplaySingle</span><span class="pun">.</span><span class="pln">ready</span><span class="pun">(</span><span class="pln">jsonData</span><span class="pun">);</span><span class="pln"> </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"> </span><span class="com">//rps </span><br><span class="pln"> </span><span class="kwd">case</span><span class="pln"> </span><span class="lit">17</span><span class="pun">:</span><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Activity</span><span class="pun">.</span><span class="typ">RoleplayMultiple</span><span class="pun">.</span><span class="pln">ready</span><span class="pun">(</span><span class="pln">jsonData</span><span class="pun">);</span><span class="pln"> </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"> </span><span class="com">//rpm </span><br><span class="pln"> </span><span class="kwd">case</span><span class="pln"> </span><span class="lit">32</span><span class="pun">:</span><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Activity</span><span class="pun">.</span><span class="typ">VideoRoleplay</span><span class="pun">.</span><span class="pln">ready</span><span class="pun">(</span><span class="pln">jsonData</span><span class="pun">);</span><span class="pln"> </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"> </span><span class="com">//vps </span><br><span class="pln"> </span><span class="kwd">case</span><span class="pln"> </span><span class="lit">27</span><span class="pun">:</span><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Activity</span><span class="pun">.</span><span class="typ">SpeakingChallenge</span><span class="pun">.</span><span class="pln">ready</span><span class="pun">(</span><span class="pln">jsonData</span><span class="pun">);</span><span class="pln"> </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"> </span><span class="com">//spc </span><br><span class="pln"> </span><span class="kwd">case</span><span class="pln"> </span><span class="lit">29</span><span class="pun">:</span><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Activity</span><span class="pun">.</span><span class="typ">LanguageComparison</span><span class="pun">.</span><span class="pln">ready</span><span class="pun">(</span><span class="pln">jsonData</span><span class="pun">);</span><span class="pln"> </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"> </span><span class="com">//lcp </span><br><span class="pln"> </span><span class="kwd">case</span><span class="pln"> </span><span class="lit">30</span><span class="pun">:</span><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Activity</span><span class="pun">.</span><span class="typ">FlashCardBase</span><span class="pun">.</span><span class="pln">ready</span><span class="pun">(</span><span class="pln">jsonData</span><span class="pun">,</span><span class="pln"> </span><span class="str">"model_sentence"</span><span class="pun">);</span><span class="pln"> </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"> </span><span class="com">//ms </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Popup</span><span class="pun">.</span><span class="pln">close</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Popup</span><span class="pun">.</span><span class="pln">onNoClick </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> </span><span class="typ">_Id</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> jsonData</span><span class="pun">.</span><span class="typ">Activity</span><span class="pun">.</span><span class="typ">Id</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> skipActivity</span><span class="pun">(</span><span class="typ">_Id</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Popup</span><span class="pun">.</span><span class="pln">open</span><span class="pun">(</span><span class="pln">content</span><span class="pun">,</span><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">text</span><span class="pun">.</span><span class="pln">skip</span><span class="pun">,</span><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">text</span><span class="pun">.</span><span class="pln">ok</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=flashAsrEvent>
                <h3>flashAsrEvent:<i> ( lines: 43 characters: 1509 arguments: 1 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">args</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="typ">_AsrBtnClicked</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">/* </span><br><span class="com"> args=[statusCode,audio_id,audioBuffer16,asrtype] </span><br><span class="com"> */</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">switch</span><span class="pln"> </span><span class="pun">(</span><span class="pln">args</span><span class="pun">[</span><span class="lit">0</span><span class="pun">])</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">case</span><span class="pln"> </span><span class="str">'COMPLETE'</span><span class="pun">:</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">/* </span><br><span class="com"> window['_audioPlay'] = audioBuffer22; </span><br><span class="com"> */</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">showASRPopMessage</span><span class="pun">(</span><span class="kwd">false</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> clearInterval</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">asrInterval</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> window</span><span class="pun">[</span><span class="str">'_latestRecording'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> args</span><span class="pun">[</span><span class="lit">2</span><span class="pun">];</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//hide asr indicator </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="str">".act-asr_indicator_activity"</span><span class="pun">).</span><span class="pln">width</span><span class="pun">(</span><span class="lit">0</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="str">".act-asr_indicator"</span><span class="pun">).</span><span class="pln">addClass</span><span class="pun">(</span><span class="str">"act-hide"</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">publish</span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">STATUS</span><span class="pun">.</span><span class="pln">complete</span><span class="pun">,</span><span class="pln"> args</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">case</span><span class="pln"> </span><span class="str">'FAILED'</span><span class="pun">:</span><span class="pln"> </span><br><span class="pln"> clearInterval</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">asrInterval</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">popup</span><span class="pun">.</span><span class="pln">serverUnavilable</span><span class="pun">(</span><span class="kwd">false</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">case</span><span class="pln"> </span><span class="str">'NOMIC'</span><span class="pun">:</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">popup</span><span class="pun">.</span><span class="pln">noPlugin</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">returnRecording</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">case</span><span class="pln"> </span><span class="str">'START'</span><span class="pun">:</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">setServerASRAudioID</span><span class="pun">(</span><span class="pln">args</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">asrBtnLoadingChange</span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">text</span><span class="pun">.</span><span class="pln">recording</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">asrInterval </span><span class="pun">=</span><span class="pln"> setInterval</span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">asrIntervalHandler</span><span class="pun">,</span><span class="pln"> </span><span class="lit">100</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//show asr indicator </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="str">".act-asr_indicator"</span><span class="pun">).</span><span class="pln">removeClass</span><span class="pun">(</span><span class="str">"act-hide"</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">showASRPopMessage</span><span class="pun">(</span><span class="kwd">true</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">case</span><span class="pln"> </span><span class="str">'UNMUTED'</span><span class="pun">:</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">closeMicSettings</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">case</span><span class="pln"> </span><span class="str">'MUTED'</span><span class="pun">:</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">popup</span><span class="pun">.</span><span class="pln">micSetting</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">default</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=flashPlayBackCompleteCallback>
                <h3>flashPlayBackCompleteCallback:<i> ( lines: 8 characters: 257 arguments: 1 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">statusCode</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="typ">_AsrBtnClicked</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">switch</span><span class="pln"> </span><span class="pun">(</span><span class="pln">statusCode</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">case</span><span class="pln"> </span><span class="str">'START'</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">return</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">case</span><span class="pln"> </span><span class="str">'FAILED'</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">messageBox</span><span class="pun">(</span><span class="str">"Flash playback failed!"</span><span class="pun">);</span><span class="pln"> </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">case</span><span class="pln"> </span><span class="str">'COMPLETE'</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">playbackComplete</span><span class="pun">();</span><span class="pln"> </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=getASRMode>
                <h3>getASRMode:<i> ( lines: 11 characters: 395 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> result</span><span class="pun">,</span><span class="pln"> _utils </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">utility</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_utils</span><span class="pun">.</span><span class="pln">isOldAsr</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> result </span><span class="pun">=</span><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">config</span><span class="pun">.</span><span class="pln">asrOldLocalMode</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_utils</span><span class="pun">.</span><span class="pln">isOldAsr</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> result </span><span class="pun">=</span><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">config</span><span class="pun">.</span><span class="pln">asrNewLocalMode</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_utils</span><span class="pun">.</span><span class="pln">isServerAsr</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> result </span><span class="pun">=</span><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">config</span><span class="pun">.</span><span class="pln">asrNewServerMode</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> result</span><span class="pun">;</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=getErrorCode>
                <h3>getErrorCode:<i> ( lines: 17 characters: 697 arguments: 1 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">errorCode</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//pc ASR version 4.3 support errorCode, other early version didn't return errorCode. It returns error message, goto default error handling. </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> asrErrorCodeMapping </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="str">'3'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'VOICE_TOO_SLOW'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'4'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'VOICE_TOO_FAST'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'5'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'VOICE_TOO_LOW'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'6'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'VOICE_TOO_HIGH'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'7'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'VOICE_TOO_NOISY'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'8'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'UNKNOWN'</span><span class="pln"> </span><span class="pun">};</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> result </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">undefined</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">try</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> result </span><span class="pun">=</span><span class="pln"> asrErrorCodeMapping</span><span class="pun">[</span><span class="pln">errorCode</span><span class="pun">];</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="pln">e</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> result </span><span class="pun">=</span><span class="pln"> </span><span class="str">'UNKNOWN'</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">result</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> result </span><span class="pun">=</span><span class="pln"> </span><span class="str">'UNKNOWN'</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//because no voice error is not asr error,so i fixed in the fllowing way: </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">errorCode</span><span class="pun">.</span><span class="pln">length </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> result </span><span class="pun">=</span><span class="pln"> </span><span class="str">'NO_VOICE'</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> result</span><span class="pun">;</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=getLatestRecording>
                <h3>getLatestRecording:<i> ( lines: 3 characters: 56 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> window</span><span class="pun">[</span><span class="str">'_latestRecording'</span><span class="pun">];</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=getRecordFlash>
                <h3>getRecordFlash:<i> ( lines: 8 characters: 175 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">navigator</span><span class="pun">.</span><span class="pln">appName</span><span class="pun">.</span><span class="pln">indexOf</span><span class="pun">(</span><span class="str">"Microsoft"</span><span class="pun">)</span><span class="pln"> </span><span class="pun">!=</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> window</span><span class="pun">.</span><span class="typ">WaveRecorder</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> document</span><span class="pun">.</span><span class="typ">WaveRecorder</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=getServerASRAudioID>
                <h3>getServerASRAudioID:<i> ( lines: 3 characters: 52 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">_serverASRAudioID</span><span class="pun">;</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=getServerRecognizeResult>
                <h3>getServerRecognizeResult:<i> ( lines: 22 characters: 631 arguments: 3 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">url</span><span class="pun">,</span><span class="pln"> pars</span><span class="pun">,</span><span class="pln"> callback</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">.</span><span class="pln">ajax</span><span class="pun">({</span><span class="pln"> </span><br><span class="pln"> data</span><span class="pun">:</span><span class="pln"> pars</span><span class="pun">,</span><span class="pln"> </span><br><span class="pln"> url</span><span class="pun">:</span><span class="pln"> url</span><span class="pun">,</span><span class="pln"> </span><br><span class="pln"> type</span><span class="pun">:</span><span class="pln"> </span><span class="str">"POST"</span><span class="pun">,</span><span class="pln"> </span><br><span class="pln"> cache</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> </span><br><span class="pln"> dataType</span><span class="pun">:</span><span class="pln"> </span><span class="str">"xml"</span><span class="pun">,</span><span class="pln"> </span><br><span class="pln"> success</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">xmlDom</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">publish</span><span class="pun">(</span><span class="str">'asrCallBackComplete'</span><span class="pun">,</span><span class="pln"> callback</span><span class="pun">,</span><span class="pln"> xmlDom</span><span class="pun">.</span><span class="pln">xml</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">},</span><span class="pln"> </span><br><span class="pln"> error</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">xml</span><span class="pun">,</span><span class="pln"> status</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">status </span><span class="pun">==</span><span class="pln"> </span><span class="str">'error'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">try</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//alert(xml.responseText); </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="pln">e</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//alert(status); </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">publish</span><span class="pun">(</span><span class="str">'asrCallBackComplete'</span><span class="pun">,</span><span class="pln"> callback</span><span class="pun">,</span><span class="str">''</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">});</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=hideASRNotification>
                <h3>hideASRNotification:<i> ( lines: 6 characters: 167 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> asrMessageDiv </span><span class="pun">=</span><span class="pln"> $j</span><span class="pun">(</span><span class="str">"#act-asr_noti_wrap"</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">asrMessageDiv</span><span class="pun">.</span><span class="pln">hasClass</span><span class="pun">(</span><span class="str">"act-hide"</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> asrMessageDiv</span><span class="pun">.</span><span class="pln">addClass</span><span class="pun">(</span><span class="str">"act-hide"</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=hideAsrPop>
                <h3>hideAsrPop:<i> ( lines: 3 characters: 68 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="str">".act-asr_rec_popup"</span><span class="pun">).</span><span class="pln">addClass</span><span class="pun">(</span><span class="str">'act-hide'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=initASRBtnHover>
                <h3>initASRBtnHover:<i> ( lines: 15 characters: 601 arguments: 1 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">selector</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> setTimeout</span><span class="pun">(</span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="pln">selector</span><span class="pun">).</span><span class="pln">hover</span><span class="pun">(</span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">$j</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">).</span><span class="pln">parents</span><span class="pun">(</span><span class="str">'.act-player_icon'</span><span class="pun">).</span><span class="pln">hasClass</span><span class="pun">(</span><span class="str">"act-player_rd_n"</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">).</span><span class="pln">parents</span><span class="pun">(</span><span class="str">'.act-player_icon'</span><span class="pun">).</span><span class="pln">addClass</span><span class="pun">(</span><span class="str">"act-player_rd_h"</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">$j</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">).</span><span class="pln">hasClass</span><span class="pun">(</span><span class="str">'act-asr_rec_btn_h'</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">).</span><span class="pln">addClass</span><span class="pun">(</span><span class="str">'act-asr_rec_btn_h'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">},</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">).</span><span class="pln">parents</span><span class="pun">(</span><span class="str">'.act-player_icon'</span><span class="pun">).</span><span class="pln">removeClass</span><span class="pun">(</span><span class="str">"act-player_rd_h"</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">).</span><span class="pln">removeClass</span><span class="pun">(</span><span class="str">'act-asr_rec_btn_h'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">});</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">},</span><span class="pln"> </span><span class="lit">25</span><span class="pun">);</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=initEvent>
                <h3>initEvent:<i> ( lines: 14 characters: 780 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> window</span><span class="pun">.</span><span class="pln">ET_School_Scripts_ExternalMethods_Precache</span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">loadingIconURL</span><span class="pun">);</span><span class="pln"> </span><span class="com">//cache loading icon </span><br><span class="pln"> setTimeout</span><span class="pun">(</span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> title </span><span class="pun">=</span><span class="pln"> jQuery</span><span class="pun">(</span><span class="str">'.micsettings_2_head'</span><span class="pun">).</span><span class="pln">html</span><span class="pun">().</span><span class="pln">replace</span><span class="pun">(</span><span class="str">/\^.*?\^/</span><span class="pln">ig</span><span class="pun">,</span><span class="pln"> </span><span class="str">' "</span><span class="\'micsettings_ico_tab_privacy\'"></span><span class="str">" '</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> jQuery</span><span class="pun">(</span><span class="str">".micsettings_2_head"</span><span class="pun">).</span><span class="pln">html</span><span class="pun">(</span><span class="pln">title</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">},</span><span class="pln"> </span><span class="lit">100</span><span class="pun">);</span><span class="pln"> </span><span class="com">//add for IE browser </span><br><span class="pln"> jQuery</span><span class="pun">(</span><span class="str">"#btn-micsettings-done"</span><span class="pun">).</span><span class="pln">click</span><span class="pun">(</span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">closeMicSettings</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">recorderTrace</span><span class="pun">(</span><span class="str">"reload"</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> window</span><span class="pun">.</span><span class="pln">location</span><span class="pun">.</span><span class="pln">reload</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">});</span><span class="pln"> </span><br><span class="pln"> jQuery</span><span class="pun">(</span><span class="str">"#btn-micsettings-done"</span><span class="pun">).</span><span class="pln">hover</span><span class="pun">(</span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> jQuery</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">).</span><span class="pln">addClass</span><span class="pun">(</span><span class="str">"btn-micsettings-done_h"</span><span class="pun">);</span><span class="pln"> </span><span class="pun">},</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> jQuery</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">).</span><span class="pln">removeClass</span><span class="pun">(</span><span class="str">"btn-micsettings-done_h"</span><span class="pun">);</span><span class="pln"> </span><span class="pun">});</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">manager</span><span class="pun">.</span><span class="pln">execute</span><span class="pun">(</span><span class="str">'init'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=isAsrEnabled>
                <h3>isAsrEnabled:<i> ( lines: 3 characters: 57 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">utility</span><span class="pun">.</span><span class="pln">isAsrEnabled</span><span class="pun">();</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=isAsrInstalled>
                <h3>isAsrInstalled:<i> ( lines: 3 characters: 59 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">utility</span><span class="pun">.</span><span class="pln">isAsrInstalled</span><span class="pun">();</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=lazyActiveRecord>
                <h3>lazyActiveRecord:<i> ( lines: 14 characters: 586 arguments: 3 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">excuteFun</span><span class="pun">,</span><span class="pln"> callback</span><span class="pun">,</span><span class="pln"> isClear</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">config</span><span class="pun">.</span><span class="pln">isIpad</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">excuteFun </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="kwd">typeof</span><span class="pln"> excuteFun </span><span class="pun">===</span><span class="pln"> </span><span class="str">'function'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> excuteFun</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">callback </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="kwd">typeof</span><span class="pln"> callback </span><span class="pun">===</span><span class="pln"> </span><span class="str">'function'</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="pun">!</span><span class="pln">isClear</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">lazyActiveRecord</span><span class="pun">[</span><span class="str">'callback'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> setTimeout</span><span class="pun">(</span><span class="pln">callback</span><span class="pun">,</span><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="typ">PendingTime</span><span class="pun">.</span><span class="pln">recordReEnabled</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">isClear</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> clearTimeout</span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">lazyActiveRecord</span><span class="pun">[</span><span class="str">'callback'</span><span class="pun">]);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">callback </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="kwd">typeof</span><span class="pln"> callback </span><span class="pun">===</span><span class="pln"> </span><span class="str">'function'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> callback</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=length>
                <h3>length:<i> ( lines: 1 characters: 3 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="lit">600</span></pre>
</li>            <li class='l' id=level>
                <h3>level:<i> ( lines: 1 characters: 2 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="lit">60</span></pre>
</li>            <li class='l' id=loadAsrButton>
                <h3>loadAsrButton:<i> ( lines: 18 characters: 931 arguments: 3 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">container_selector</span><span class="pun">,</span><span class="pln"> extra_condition</span><span class="pun">,</span><span class="pln"> elmes_should_remove_arr</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> isvlid </span><span class="pun">=</span><span class="pln"> extra_condition </span><span class="pun">||</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">isvlid </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">config</span><span class="pun">.</span><span class="pln">isIpad</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">isAsrEnabled</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="pln">container_selector</span><span class="pun">).</span><span class="pln">html</span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="pln">loadTemplateToText</span><span class="pun">(</span><span class="pln">window</span><span class="pun">.</span><span class="pln">jTemplatePath </span><span class="pun">+</span><span class="pln"> </span><span class="str">"_jtemplates/study/activities/asr_button.tpl"</span><span class="pun">));</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="str">'.act-asr_recorder'</span><span class="pun">).</span><span class="pln">parents</span><span class="pun">(</span><span class="str">'.act-player_icon'</span><span class="pun">).</span><span class="pln">css</span><span class="pun">(</span><span class="str">'background'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'none'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">elmes_should_remove_arr</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">var</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> elmes_should_remove_arr</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">--;</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="pln">elmes_should_remove_arr</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]).</span><span class="pln">remove</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">jQuery</span><span class="pun">(</span><span class="str">".act-asr_rec_popup_msg_expand"</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> jQuery</span><span class="pun">(</span><span class="str">".act-asr_rec_popup_msg_expand"</span><span class="pun">).</span><span class="pln">click</span><span class="pun">(</span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> jQuery</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">).</span><span class="pln">toggleClass</span><span class="pun">(</span><span class="str">"act-asr_rec_popup_msg_expand_collapse"</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> jQuery</span><span class="pun">(</span><span class="str">".act-asr_rec_popup_msg_detail"</span><span class="pun">).</span><span class="pln">toggle</span><span class="pun">(</span><span class="str">'fast'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">});</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=loadingIconURL>
                <h3>loadingIconURL:<i> ( lines: 1 characters: 48 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pun">../..</span><span class="com">//_imgs/ui/courseware/study/asr_loading.gif</span></pre>
</li>            <li class='l' id=localRecordCallback>
                <h3>localRecordCallback:<i> ( lines: 6 characters: 187 arguments: 3 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">statusCode</span><span class="pun">,</span><span class="pln"> audio_id</span><span class="pun">,</span><span class="pln"> audioBuffer16</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> args </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[].</span><span class="pln">slice</span><span class="pun">.</span><span class="pln">call</span><span class="pun">(</span><span class="pln">arguments</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><br><span class="pln"> args</span><span class="pun">.</span><span class="pln">push</span><span class="pun">(</span><span class="str">'local'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">recorderTrace</span><span class="pun">(</span><span class="pln">args</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">flashAsrEvent</span><span class="pun">(</span><span class="pln">args</span><span class="pun">);</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=localRecordingComplete>
                <h3>localRecordingComplete:<i> ( lines: 14 characters: 499 arguments: 1 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">data</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//window.console.warn("ET.NA.ASR.recordingComplete"); </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> prons </span><span class="pun">=</span><span class="pln"> window</span><span class="pun">[</span><span class="str">'_prons'</span><span class="pun">];</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">prons</span><span class="pun">)</span><span class="pln"> </span><span class="com">// need recogize </span><br><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">asrBtnLoadingChange</span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">text</span><span class="pun">.</span><span class="pln">asr_processing</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//change end </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">localStartRecognize</span><span class="pun">(</span><span class="pln">prons</span><span class="pun">,</span><span class="pln"> data</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">result</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">recognizeComplete</span><span class="pun">(</span><span class="pln">result</span><span class="pun">);</span><span class="pln"> </span><span class="pun">});</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">window</span><span class="pun">[</span><span class="str">'_asrRecordCallback'</span><span class="pun">])</span><span class="pln"> </span><span class="com">// no need recogize </span><br><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> window</span><span class="pun">[</span><span class="str">'_asrRecordCallback'</span><span class="pun">]();</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=localStartRecognize>
                <h3>localStartRecognize:<i> ( lines: 12 characters: 376 arguments: 3 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">prons</span><span class="pun">,</span><span class="pln"> data</span><span class="pun">,</span><span class="pln"> onComplete</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//window.console.warn("ET.NA.ASR.startRecognize"); </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> result </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">prons</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">// GetTalkpalAX().SetContext(Base64.decode(prons)); </span><br><span class="pln"> result </span><span class="pun">=</span><span class="pln"> </span><span class="typ">GetTalkpalAX</span><span class="pun">().</span><span class="typ">GetResult2</span><span class="pun">(</span><span class="pln">data</span><span class="pun">,</span><span class="pln"> data</span><span class="pun">.</span><span class="pln">length</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">onComplete</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//window.console.error(result); </span><br><span class="pln"> onComplete</span><span class="pun">(</span><span class="pln">result</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=manager>
                <h3>manager:<i> ( lines: undefined characters: undefined arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pun">[</span><span class="pln">object </span><span class="typ">Object</span><span class="pun">]</span></pre>
</li>            <li class='l' id=micGain>
                <h3>micGain:<i> ( lines: 1 characters: 2 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="lit">50</span></pre>
</li>            <li class='l' id=needHidePlayback>
                <h3>needHidePlayback:<i> ( lines: 8 characters: 213 arguments: 1 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">playback_id</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">getASRMode</span><span class="pun">()</span><span class="pln"> </span><span class="pun">===</span><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">config</span><span class="pun">.</span><span class="pln">asrOldLocalMode </span><span class="pun">||</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">!</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">isAsrEnabled</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=playbackComplete>
                <h3>playbackComplete:<i> ( lines: 5 characters: 181 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="typ">_AsrBtnClicked</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//window.console.warn("ET.NA.ASR.playbackComplete"); </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">window</span><span class="pun">[</span><span class="str">'_playbackCallback'</span><span class="pun">])</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> window</span><span class="pun">[</span><span class="str">'_playbackCallback'</span><span class="pun">]();</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=popup>
                <h3>popup:<i> ( lines: undefined characters: undefined arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pun">[</span><span class="pln">object </span><span class="typ">Object</span><span class="pun">]</span></pre>
</li>            <li class='l' id=publish>
                <h3>publish:<i> ( lines: 11 characters: 414 arguments: 1 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">channel</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> channels </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">channels</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">channels</span><span class="pun">[</span><span class="pln">channel</span><span class="pun">])</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> args </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Array</span><span class="pun">.</span><span class="pln">prototype</span><span class="pun">.</span><span class="pln">slice</span><span class="pun">.</span><span class="pln">call</span><span class="pun">(</span><span class="pln">arguments</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">var</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> l </span><span class="pun">=</span><span class="pln"> channels</span><span class="pun">[</span><span class="pln">channel</span><span class="pun">].</span><span class="pln">length</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> l</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> subscription </span><span class="pun">=</span><span class="pln"> channels</span><span class="pun">[</span><span class="pln">channel</span><span class="pun">][</span><span class="pln">i</span><span class="pun">];</span><span class="pln"> </span><br><span class="pln"> subscription</span><span class="pun">.</span><span class="pln">callback</span><span class="pun">.</span><span class="pln">apply</span><span class="pun">(</span><span class="pln">subscription</span><span class="pun">.</span><span class="pln">context</span><span class="pun">,</span><span class="pln"> args</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=recognizeComplete>
                <h3>recognizeComplete:<i> ( lines: 42 characters: 1700 arguments: 1 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">result</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">/* asr change ui */</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">/*$j("#act-rec_loading_img").addClass("act-hide");*/</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">asrBtnLoadingChange</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//change end </span><br><span class="pln"> </span><br><span class="pln"> </span><span class="com">//window.console.warn("ET.NA.ASR.recognizeComplete"); </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> jsonResult </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> jXML </span><span class="pun">=</span><span class="pln"> xmlToJDom</span><span class="pun">(</span><span class="pln">result</span><span class="pun">),</span><span class="pln"> </span><br><span class="pln"> errorCode </span><span class="pun">=</span><span class="pln"> jXML</span><span class="pun">.</span><span class="pln">attr</span><span class="pun">(</span><span class="str">'error'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> jXML</span><span class="pun">.</span><span class="pln">find</span><span class="pun">(</span><span class="str">'TPResult'</span><span class="pun">).</span><span class="pln">attr</span><span class="pun">(</span><span class="str">'error'</span><span class="pun">),</span><span class="pln"> </span><br><span class="pln"> reason </span><span class="pun">=</span><span class="pln"> jXML</span><span class="pun">.</span><span class="pln">attr</span><span class="pun">(</span><span class="str">'error'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> jXML</span><span class="pun">.</span><span class="pln">find</span><span class="pun">(</span><span class="str">'TPResult'</span><span class="pun">).</span><span class="pln">attr</span><span class="pun">(</span><span class="str">'reason'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> </span><span class="str">""</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">errorCode</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">recorderTrace</span><span class="pun">(</span><span class="str">"Error:"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> errorCode </span><span class="pun">+</span><span class="pln"> </span><span class="str">" Reason: "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> reason</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> jsonResult</span><span class="pun">.</span><span class="pln">errorCode </span><span class="pun">=</span><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">getErrorCode</span><span class="pun">(</span><span class="pln">errorCode</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="pln">asrErrorPop</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="pln">asrErrorPop</span><span class="pun">(</span><span class="pln">jsonResult</span><span class="pun">.</span><span class="pln">errorCode</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">window</span><span class="pun">[</span><span class="str">'_startRecognizeCallback'</span><span class="pun">])</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> window</span><span class="pun">[</span><span class="str">'_startRecognizeCallback'</span><span class="pun">](</span><span class="pln">jsonResult</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">});</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> jXML</span><span class="pun">.</span><span class="pln">find</span><span class="pun">(</span><span class="str">'Sentence'</span><span class="pun">).</span><span class="pln">each</span><span class="pun">(</span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> jSentence </span><span class="pun">=</span><span class="pln"> jQuery</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">),</span><span class="pln"> </span><br><span class="pln"> sentence </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> sentence</span><span class="pun">:</span><span class="pln"> jSentence</span><span class="pun">.</span><span class="pln">attr</span><span class="pun">(</span><span class="str">'trans'</span><span class="pun">),</span><span class="pln"> index</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Number</span><span class="pun">(</span><span class="pln">jSentence</span><span class="pun">.</span><span class="pln">attr</span><span class="pun">(</span><span class="str">'id'</span><span class="pun">)),</span><span class="pln"> score</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Number</span><span class="pun">(</span><span class="pln">jSentence</span><span class="pun">.</span><span class="pln">attr</span><span class="pun">(</span><span class="str">'score'</span><span class="pun">))</span><span class="pln"> </span><span class="pun">};</span><span class="pln"> </span><br><span class="pln"> sentence</span><span class="pun">.</span><span class="pln">words </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[];</span><span class="pln"> </span><br><span class="pln"> jSentence</span><span class="pun">.</span><span class="pln">find</span><span class="pun">(</span><span class="str">'Word'</span><span class="pun">).</span><span class="pln">each</span><span class="pun">(</span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> jWord </span><span class="pun">=</span><span class="pln"> jQuery</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> sentence</span><span class="pun">.</span><span class="pln">words</span><span class="pun">.</span><span class="pln">push</span><span class="pun">({</span><span class="pln"> word</span><span class="pun">:</span><span class="pln"> jWord</span><span class="pun">.</span><span class="pln">attr</span><span class="pun">(</span><span class="str">'trans'</span><span class="pun">),</span><span class="pln"> score</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Number</span><span class="pun">(</span><span class="pln">jWord</span><span class="pun">.</span><span class="pln">attr</span><span class="pun">(</span><span class="str">'score'</span><span class="pun">))</span><span class="pln"> </span><span class="pun">});</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">});</span><span class="pln"> </span><br><span class="pln"> jsonResult</span><span class="pun">.</span><span class="pln">push</span><span class="pun">(</span><span class="pln">sentence</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">});</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">window</span><span class="pun">[</span><span class="str">'_startRecognizeCallback'</span><span class="pun">])</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> window</span><span class="pun">[</span><span class="str">'_startRecognizeCallback'</span><span class="pun">](</span><span class="pln">jsonResult</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">asrBtnLoadingChange</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> window</span><span class="pun">[</span><span class="str">'_startRecognizeCallback'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> window</span><span class="pun">[</span><span class="str">'_prons'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=recorderTrace>
                <h3>recorderTrace:<i> ( lines: 9 characters: 208 arguments: 1 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">msg</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">window</span><span class="pun">[</span><span class="str">'debugASR'</span><span class="pun">])</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">window</span><span class="pun">.</span><span class="pln">console</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> window</span><span class="pun">.</span><span class="pln">console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">msg</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">window</span><span class="pun">.</span><span class="pln">status</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> window</span><span class="pun">.</span><span class="pln">status </span><span class="pun">=</span><span class="pln"> msg</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=recordingComplete>
                <h3>recordingComplete:<i> ( lines: 17 characters: 583 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="typ">_AsrBtnClicked</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//window.console.warn("ET.NA.ASR.recordingComplete"); </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> prons </span><span class="pun">=</span><span class="pln"> window</span><span class="pun">[</span><span class="str">'_prons'</span><span class="pun">];</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">prons</span><span class="pun">)</span><span class="pln"> </span><span class="com">// need recogize </span><br><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">asrBtnLoadingChange</span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">text</span><span class="pun">.</span><span class="pln">asr_processing</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">startRecognize</span><span class="pun">(</span><span class="pln">prons</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">result</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">recognizeComplete</span><span class="pun">(</span><span class="pln">result</span><span class="pun">);</span><span class="pln"> </span><span class="pun">});</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">window</span><span class="pun">[</span><span class="str">'_asrRecordCallback'</span><span class="pun">])</span><span class="pln"> </span><span class="com">// no need recogize </span><br><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">asrBtnLoadingChange</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> window</span><span class="pun">[</span><span class="str">'_asrRecordCallback'</span><span class="pun">]();</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">asrBtnLoadingChange</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=returnRecording>
                <h3>returnRecording:<i> ( lines: 9 characters: 444 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> setTimeout</span><span class="pun">(</span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Player</span><span class="pun">.</span><span class="pln">isRecording </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="str">"#act-card_close"</span><span class="pun">).</span><span class="pln">removeClass</span><span class="pun">(</span><span class="str">"act-card_close_d"</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="str">"#activity .act-player_rd_n"</span><span class="pun">).</span><span class="pln">removeClass</span><span class="pun">(</span><span class="str">"act-player_rd_c"</span><span class="pun">).</span><span class="pln">removeClass</span><span class="pun">(</span><span class="str">"act-player_rd_d"</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="str">".act-asr_rec_popup_msg_expand"</span><span class="pun">).</span><span class="pln">addClass</span><span class="pun">(</span><span class="str">'act-hide'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">asrBtnLoadingChange</span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">text</span><span class="pun">.</span><span class="pln">startrecord</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">},</span><span class="pln"> </span><span class="lit">500</span><span class="pun">);</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=serverRecordCallback>
                <h3>serverRecordCallback:<i> ( lines: 6 characters: 188 arguments: 3 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">statusCode</span><span class="pun">,</span><span class="pln"> audio_id</span><span class="pun">,</span><span class="pln"> audioBuffer16</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> args </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[].</span><span class="pln">slice</span><span class="pun">.</span><span class="pln">call</span><span class="pun">(</span><span class="pln">arguments</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><br><span class="pln"> args</span><span class="pun">.</span><span class="pln">push</span><span class="pun">(</span><span class="str">'server'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">recorderTrace</span><span class="pun">(</span><span class="pln">args</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">flashAsrEvent</span><span class="pun">(</span><span class="pln">args</span><span class="pun">);</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=serverRecordingComplete>
                <h3>serverRecordingComplete:<i> ( lines: 16 characters: 575 arguments: 1 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">audio_id</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//window.console.warn("ET.NA.ASR.recordingComplete"); </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> prons </span><span class="pun">=</span><span class="pln"> window</span><span class="pun">[</span><span class="str">'_prons'</span><span class="pun">];</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">prons</span><span class="pun">)</span><span class="pln"> </span><span class="com">// need recogize </span><br><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">asrBtnLoadingChange</span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">text</span><span class="pun">.</span><span class="pln">asr_processing</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//change end </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">serverStartRecognize</span><span class="pun">(</span><span class="pln">audio_id</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">result</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">recognizeComplete</span><span class="pun">(</span><span class="pln">result</span><span class="pun">);</span><span class="pln"> </span><span class="pun">});</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">window</span><span class="pun">[</span><span class="str">'_asrRecordCallback'</span><span class="pun">])</span><span class="pln"> </span><span class="com">// no need recogize </span><br><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">// no case enter here. </span><br><span class="pln"> window</span><span class="pun">[</span><span class="str">'_asrRecordCallback'</span><span class="pun">]();</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">asrBtnLoadingChange</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=serverStartRecognize>
                <h3>serverStartRecognize:<i> ( lines: 10 characters: 392 arguments: 2 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">audio_id</span><span class="pun">,</span><span class="pln"> onComplete</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//window.console.warn("ET.NA.ASR.startRecognize"); </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> result </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><br><span class="pln"> prons </span><span class="pun">=</span><span class="pln"> window</span><span class="pun">[</span><span class="str">'_prons'</span><span class="pun">];</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">prons</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//ajax call for result </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">getServerRecognizeResult</span><span class="pun">(</span><span class="pln">window</span><span class="pun">[</span><span class="str">'asrServerResultUrl'</span><span class="pun">],</span><span class="pln"> </span><br><span class="pln"> </span><span class="str">'guid='</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> audio_id </span><span class="pun">+</span><span class="pln"> </span><span class="str">'&amp;token='</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> window</span><span class="pun">.</span><span class="pln">token </span><span class="pun">+</span><span class="pln"> </span><span class="str">'&amp;utcDateToken='</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> window</span><span class="pun">.</span><span class="pln">utcDateToken</span><span class="pun">,</span><span class="pln"> onComplete</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=setOldLocalPreference>
                <h3>setOldLocalPreference:<i> ( lines: 11 characters: 385 arguments: 4 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">before</span><span class="pun">,</span><span class="pln"> after</span><span class="pun">,</span><span class="pln"> level</span><span class="pun">,</span><span class="pln"> length</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">beforeDelay </span><span class="pun">=</span><span class="pln"> before </span><span class="pun">||</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">beforeDelay</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">afterDelay </span><span class="pun">=</span><span class="pln"> after </span><span class="pun">||</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">afterDelay</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">level </span><span class="pun">=</span><span class="pln"> level </span><span class="pun">||</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">level</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">length </span><span class="pun">=</span><span class="pln"> length </span><span class="pun">||</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> _talkpal </span><span class="pun">=</span><span class="pln"> </span><span class="typ">GetTalkpalAX</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_talkpal</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> _talkpal</span><span class="pun">.</span><span class="typ">SetPreference</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">beforeDelay</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">afterDelay</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">level</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">length</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=setServerASRAudioID>
                <h3>setServerASRAudioID:<i> ( lines: 5 characters: 78 arguments: 1 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">id</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">id</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">_serverASRAudioID </span><span class="pun">=</span><span class="pln"> id</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=showASRPopMessage>
                <h3>showASRPopMessage:<i> ( lines: 10 characters: 308 arguments: 1 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">isShow</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> _asr_recoder</span><span class="pun">=</span><span class="pln">$j</span><span class="pun">(</span><span class="str">'.act-asr_recorder'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">isShow</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">_asr_recoder</span><span class="pun">.</span><span class="pln">hasClass</span><span class="pun">(</span><span class="str">'act-asr_rec_popup_show'</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> _asr_recoder</span><span class="pun">.</span><span class="pln">addClass</span><span class="pun">(</span><span class="str">'act-asr_rec_popup_show'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> _asr_recoder</span><span class="pun">.</span><span class="pln">removeClass</span><span class="pun">(</span><span class="str">'act-asr_rec_popup_show'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=showAsrPop>
                <h3>showAsrPop:<i> ( lines: 5 characters: 135 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">$j</span><span class="pun">(</span><span class="str">".act-asr_rec_popup"</span><span class="pun">).</span><span class="pln">hasClass</span><span class="pun">(</span><span class="str">'act-hide'</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="str">".act-asr_rec_popup"</span><span class="pun">).</span><span class="pln">remove</span><span class="pun">(</span><span class="str">'act-hide'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=silenceLevel>
                <h3>silenceLevel:<i> ( lines: 1 characters: 1 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="lit">5</span></pre>
</li>            <li class='l' id=startOldLocalASRdebug>
                <h3>startOldLocalASRdebug:<i> ( lines: 6 characters: 114 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> _talkpal </span><span class="pun">=</span><span class="pln"> </span><span class="typ">GetTalkpalAX</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_talkpal</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> _talkpal</span><span class="pun">.</span><span class="typ">SetDebugMode</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=startPlayback>
                <h3>startPlayback:<i> ( lines: 17 characters: 725 arguments: 2 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">onComplete</span><span class="pun">,</span><span class="pln"> data</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> _utils </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">utility</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_utils</span><span class="pun">.</span><span class="pln">isAsrDisabled</span><span class="pun">()</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="typ">_AsrBtnClicked</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="typ">_AsrBtnClicked</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//window.console.warn("ET.NA.ASR.startPlayback"); </span><br><span class="pln"> </span><span class="com">//GetTalkpalAX().StopRecord(); //stop first, otherwise the browser will crash. </span><br><span class="pln"> window</span><span class="pun">[</span><span class="str">'_playbackCallback'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> onComplete</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_utils</span><span class="pun">.</span><span class="pln">isOldAsr</span><span class="pun">()</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> _utils</span><span class="pun">.</span><span class="pln">isNewAsr</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">recorderTrace</span><span class="pun">(</span><span class="str">"local_asr_record_data----"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> data</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="typ">GetTalkpalAX</span><span class="pun">().</span><span class="typ">Play</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_utils</span><span class="pun">.</span><span class="pln">isServerAsr</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">getRecordFlash</span><span class="pun">().</span><span class="pln">startPlayback</span><span class="pun">(</span><span class="str">'/asr/'</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">getServerASRAudioID</span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="str">'.flv'</span><span class="pun">,</span><span class="pln"> </span><span class="str">"ET.NA.ASR.flashPlayBackCompleteCallback"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"ET.NA.ASR.errorCallback"</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=startRecognize>
                <h3>startRecognize:<i> ( lines: 15 characters: 414 arguments: 2 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">prons</span><span class="pun">,</span><span class="pln"> onComplete</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">isAsrEnabled</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//window.console.warn("ET.NA.ASR.startRecognize"); </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> result </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">prons</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">// GetTalkpalAX().SetContext(Base64.decode(prons)); </span><br><span class="pln"> result </span><span class="pun">=</span><span class="pln"> </span><span class="typ">GetTalkpalAX</span><span class="pun">().</span><span class="typ">GetResult</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">onComplete</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//window.console.error(result); </span><br><span class="pln"> onComplete</span><span class="pun">(</span><span class="pln">result</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=startRecognizeRecording>
                <h3>startRecognizeRecording:<i> ( lines: 12 characters: 424 arguments: 2 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">prons</span><span class="pun">,</span><span class="pln"> cb</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">/* asr ui change */</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">asrBtnLoadingChange</span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">text</span><span class="pun">.</span><span class="pln">asr_processing</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//change end </span><br><span class="pln"> </span><span class="com">//window.console.warn("ET.NA.ASR.startRecognizeRecording"); </span><br><span class="pln"> window</span><span class="pun">[</span><span class="str">'_prons'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> prons</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">utility</span><span class="pun">.</span><span class="pln">isLocalAsr</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="typ">GetTalkpalAX</span><span class="pun">().</span><span class="typ">SetContext</span><span class="pun">(</span><span class="typ">Base64</span><span class="pun">.</span><span class="pln">decode</span><span class="pun">(</span><span class="pln">prons</span><span class="pun">));</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> window</span><span class="pun">[</span><span class="str">'_startRecognizeCallback'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> cb</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">startRecording</span><span class="pun">();</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=startRecording>
                <h3>startRecording:<i> ( lines: 68 characters: 2867 arguments: 4 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">cb</span><span class="pun">,</span><span class="pln"> autoTime</span><span class="pun">,</span><span class="pln"> micGain</span><span class="pun">,</span><span class="pln"> silenceLevel</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="typ">_AsrBtnClicked</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">publish</span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">STATUS</span><span class="pun">.</span><span class="pln">start</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="typ">_AsrBtnClicked</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">_isFirst </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">recorderTrace</span><span class="pun">(</span><span class="str">"AsrOpenType:"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> window</span><span class="pun">[</span><span class="str">'AsrOpenType'</span><span class="pun">]);</span><span class="pln"> </span><br><span class="pln"> </span><br><span class="pln"> </span><span class="com">/* asr ui change*/</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">asrBtnLoadingChange</span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">text</span><span class="pun">.</span><span class="pln">asr_preparing</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> loadingOffset </span><span class="pun">=</span><span class="pln"> $j</span><span class="pun">(</span><span class="str">".act-player_rd_n"</span><span class="pun">).</span><span class="pln">offset</span><span class="pun">(),</span><span class="pln"> </span><br><span class="pln"> wrapperOffset </span><span class="pun">=</span><span class="pln"> $j</span><span class="pun">(</span><span class="str">"#wrapper"</span><span class="pun">).</span><span class="pln">offset</span><span class="pun">(),</span><span class="pln"> </span><br><span class="pln"> loadingTop </span><span class="pun">=</span><span class="pln"> loadingOffset</span><span class="pun">.</span><span class="pln">top </span><span class="pun">+</span><span class="pln"> </span><span class="lit">16</span><span class="pun">,</span><span class="pln"> </span><br><span class="pln"> loadingLeft </span><span class="pun">=</span><span class="pln"> loadingOffset</span><span class="pun">.</span><span class="pln">left </span><span class="pun">+</span><span class="pln"> </span><span class="lit">15</span><span class="pun">,</span><span class="pln"> </span><br><span class="pln"> wrapperTop </span><span class="pun">=</span><span class="pln"> wrapperOffset</span><span class="pun">.</span><span class="pln">top</span><span class="pun">,</span><span class="pln"> </span><br><span class="pln"> wrapperLeft </span><span class="pun">=</span><span class="pln"> wrapperOffset</span><span class="pun">.</span><span class="pln">left</span><span class="pun">,</span><span class="pln"> </span><br><span class="pln"> autostopTime </span><span class="pun">=</span><span class="pln"> autoTime </span><span class="pun">||</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">autoStopTime</span><span class="pun">,</span><span class="pln"> </span><br><span class="pln"> micGain </span><span class="pun">=</span><span class="pln"> micGain </span><span class="pun">||</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">micGain</span><span class="pun">,</span><span class="pln"> </span><br><span class="pln"> silenceLevel </span><span class="pun">=</span><span class="pln"> silenceLevel </span><span class="pun">||</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">silenceLevel</span><span class="pun">,</span><span class="pln"> </span><br><span class="pln"> _utils </span><span class="pun">=</span><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">utility</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><br><span class="pln"> </span><span class="com">/*$j("#act-rec_loading_img").css({ "top": loadingTop - wrapperTop, "left": loadingLeft - wrapperLeft });*///pc version is </span><br><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">cb</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//for recording 1 min </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">config</span><span class="pun">.</span><span class="pln">recordMaxLength </span><span class="pun">=</span><span class="pln"> </span><span class="lit">60000</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> window</span><span class="pun">[</span><span class="str">'_asrRecordCallback'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> cb</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">recorderTrace</span><span class="pun">(</span><span class="str">"startRecording"</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_utils</span><span class="pun">.</span><span class="pln">isOldAsr</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//change end </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">showASRPopMessage</span><span class="pun">(</span><span class="kwd">false</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//****** use old activex to recording ***** </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">asrBtnLoadingChange</span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">text</span><span class="pun">.</span><span class="pln">recording</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> setTimeout</span><span class="pun">(</span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="typ">GetTalkpalAX</span><span class="pun">().</span><span class="typ">Record</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">},</span><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="typ">PendingTime</span><span class="pun">.</span><span class="pln">asrOldLocalStartRecord</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_utils</span><span class="pun">.</span><span class="pln">isNewAsr</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//speaking chanllege </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">template_id </span><span class="pun">===</span><span class="pln"> </span><span class="lit">27</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">beforeDelay </span><span class="pun">=</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">afterDelay </span><span class="pun">=</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="typ">GetTalkpalAX</span><span class="pun">().</span><span class="typ">SetContext</span><span class="pun">(</span><span class="str">''</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">beforeDelay </span><span class="pun">=</span><span class="pln"> </span><span class="lit">5</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">afterDelay </span><span class="pun">=</span><span class="pln"> </span><span class="lit">2</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">setOldLocalPreference</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">beforeDelay</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">afterDelay</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">level</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">length</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">asrBtnLoadingChange</span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">text</span><span class="pun">.</span><span class="pln">preparing</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="typ">GetTalkpalAX</span><span class="pun">().</span><span class="typ">Record</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_utils</span><span class="pun">.</span><span class="pln">isServerAsr</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//****** use stream to recording ****** </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">getRecordFlash</span><span class="pun">().</span><span class="pln">startStreamingRecording</span><span class="pun">(</span><span class="pln">window</span><span class="pun">[</span><span class="str">'asrServerAddress'</span><span class="pun">],</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">config</span><span class="pun">.</span><span class="pln">recordMaxLength</span><span class="pun">,</span><span class="pln"> autostopTime</span><span class="pun">,</span><span class="pln"> micGain</span><span class="pun">,</span><span class="pln"> silenceLevel</span><span class="pun">,</span><span class="pln"> </span><br><span class="pln"> window</span><span class="pun">[</span><span class="str">'_prons'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="typ">Base64</span><span class="pun">.</span><span class="pln">decode</span><span class="pun">(</span><span class="pln">window</span><span class="pun">[</span><span class="str">'_prons'</span><span class="pun">])</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="str">""</span><span class="pun">,</span><span class="pln"> </span><br><span class="pln"> </span><span class="str">"ET.NA.ASR.serverRecordCallback"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"ET.NA.ASR.errorCallback"</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">$j</span><span class="pun">(</span><span class="str">".act-asr_rec_popup_msg_expand"</span><span class="pun">).</span><span class="pln">length </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="pun">!</span><span class="pln">$j</span><span class="pun">(</span><span class="str">".act-asr_rec_popup_msg_expand"</span><span class="pun">).</span><span class="pln">hasClass</span><span class="pun">(</span><span class="str">'act-hide'</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="str">".act-asr_rec_popup_msg_expand"</span><span class="pun">).</span><span class="pln">addClass</span><span class="pun">(</span><span class="str">'act-hide'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">recorderTrace</span><span class="pun">(</span><span class="str">"end startRecording"</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=stopPlayback>
                <h3>stopPlayback:<i> ( lines: 16 characters: 425 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> _talkpal </span><span class="pun">=</span><span class="pln"> </span><span class="typ">GetTalkpalAX</span><span class="pun">(),</span><span class="pln"> _flash </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">getRecordFlash</span><span class="pun">(),</span><span class="pln"> _utils </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">utility</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">try</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_utils</span><span class="pun">.</span><span class="pln">isAsrDisabled</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="typ">_AsrBtnClicked</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_utils</span><span class="pun">.</span><span class="pln">isLocalAsr</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> _talkpal</span><span class="pun">.</span><span class="typ">StopPlay</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_flash </span><span class="pun">&amp;&amp;</span><span class="pln"> _flash</span><span class="pun">.</span><span class="pln">stopPlayback</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> _flash</span><span class="pun">.</span><span class="pln">stopPlayback</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="pln">e</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=stopRecording>
                <h3>stopRecording:<i> ( lines: 3 characters: 51 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">publish</span><span class="pun">(</span><span class="str">"stop_talkpal"</span><span class="pun">);</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=subscribe>
                <h3>subscribe:<i> ( lines: 10 characters: 263 arguments: 2 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">channel</span><span class="pun">,</span><span class="pln"> fn</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> channels </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">channels</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">channels</span><span class="pun">[</span><span class="pln">channel</span><span class="pun">])</span><span class="pln"> </span><br><span class="pln"> channels</span><span class="pun">[</span><span class="pln">channel</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[];</span><span class="pln"> </span><br><span class="pln"> channels</span><span class="pun">[</span><span class="pln">channel</span><span class="pun">].</span><span class="pln">push</span><span class="pun">({</span><span class="pln"> </span><br><span class="pln"> context</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">,</span><span class="pln"> </span><br><span class="pln"> callback</span><span class="pun">:</span><span class="pln"> fn </span><br><span class="pln"> </span><span class="pun">});</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=unsubscribe>
                <h3>unsubscribe:<i> ( lines: 8 characters: 190 arguments: 1 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">channel</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> channels </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">channels</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">channels</span><span class="pun">[</span><span class="pln">channel</span><span class="pun">])</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">delete</span><span class="pln"> channels</span><span class="pun">[</span><span class="pln">channel</span><span class="pun">];</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=utility>
                <h3>utility:<i> ( lines: undefined characters: undefined arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pun">[</span><span class="pln">object </span><span class="typ">Object</span><span class="pun">]</span></pre>
</li>            <li class='l' id=context>
                <h3>context:<i> ( lines: undefined characters: undefined arguments: 0 )</i></h3>
                <br>
                <pre>  </pre>
</li>            <li class='l' id=0>
                <h3>0:<i> ( lines: undefined characters: undefined arguments: 0 )</i></h3>
                <br>
                <pre>  </pre>
</li>            <li class='l' id=asrCallBackComplete>
                <h3>asrCallBackComplete:<i> ( lines: undefined characters: undefined arguments: 0 )</i></h3>
                <br>
                <pre>  </pre>
</li>            <li class='l' id=complete>
                <h3>complete:<i> ( lines: undefined characters: undefined arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pun">[</span><span class="pln">object </span><span class="typ">Object</span><span class="pun">]</span></pre>
</li>            <li class='l' id=interrupt>
                <h3>interrupt:<i> ( lines: undefined characters: undefined arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pun">[</span><span class="pln">object </span><span class="typ">Object</span><span class="pun">]</span></pre>
</li>            <li class='l' id=normal>
                <h3>normal:<i> ( lines: undefined characters: undefined arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pun">[</span><span class="pln">object </span><span class="typ">Object</span><span class="pun">]</span></pre>
</li>            <li class='l' id=playback>
                <h3>playback:<i> ( lines: undefined characters: undefined arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pun">[</span><span class="pln">object </span><span class="typ">Object</span><span class="pun">]</span></pre>
</li>            <li class='l' id=playbackComplete>
                <h3>playbackComplete:<i> ( lines: undefined characters: undefined arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pun">[</span><span class="pln">object </span><span class="typ">Object</span><span class="pun">]</span></pre>
</li>            <li class='l' id=preparing>
                <h3>preparing:<i> ( lines: undefined characters: undefined arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pun">[</span><span class="pln">object </span><span class="typ">Object</span><span class="pun">]</span></pre>
</li>            <li class='l' id=processing>
                <h3>processing:<i> ( lines: undefined characters: undefined arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pun">[</span><span class="pln">object </span><span class="typ">Object</span><span class="pun">]</span></pre>
</li>            <li class='l' id=recording>
                <h3>recording:<i> ( lines: undefined characters: undefined arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pun">[</span><span class="pln">object </span><span class="typ">Object</span><span class="pun">]</span></pre>
</li>            <li class='l' id=start>
                <h3>start:<i> ( lines: undefined characters: undefined arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pun">[</span><span class="pln">object </span><span class="typ">Object</span><span class="pun">]</span></pre>
</li>            <li class='l' id=stopPlayback>
                <h3>stopPlayback:<i> ( lines: undefined characters: undefined arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pun">[</span><span class="pln">object </span><span class="typ">Object</span><span class="pun">]</span></pre>
</li>            <li class='l' id=stop_talkpal>
                <h3>stop_talkpal:<i> ( lines: undefined characters: undefined arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pun">[</span><span class="pln">object </span><span class="typ">Object</span><span class="pun">]</span></pre>
</li>            <li class='l' id=talkpal_recordingComplete>
                <h3>talkpal_recordingComplete:<i> ( lines: undefined characters: undefined arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pun">[</span><span class="pln">object </span><span class="typ">Object</span><span class="pun">]</span></pre>
</li>            <li class='l' id=channels>
                <h3>channels:<i> ( lines: undefined characters: undefined arguments: 0 )</i></h3>
                <br>
                <pre>  </pre>
</li>            <li class='l' id=closeMicSettings>
                <h3>closeMicSettings:<i> ( lines: 3 characters: 102 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="str">"#micsettings"</span><span class="pun">).</span><span class="pln">removeClass</span><span class="pun">(</span><span class="str">"micsettings_show"</span><span class="pun">).</span><span class="pln">addClass</span><span class="pun">(</span><span class="str">"micsettings_hide"</span><span class="pun">);</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=commonPlayback>
                <h3>commonPlayback:<i> ( lines: 15 characters: 677 arguments: 2 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">onComplete</span><span class="pun">,</span><span class="pln"> data</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//1.stop all player </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="pln">dispose</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//2.disable asr but not for speaking_chllange </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">jQuery</span><span class="pun">(</span><span class="str">'.act-player_icon'</span><span class="pun">).</span><span class="pln">hasClass</span><span class="pun">(</span><span class="str">'act-player_rd_d'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> template_id </span><span class="pun">!==</span><span class="pln"> </span><span class="lit">27</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> jQuery</span><span class="pun">(</span><span class="str">'.act-player_icon'</span><span class="pun">).</span><span class="pln">addClass</span><span class="pun">(</span><span class="str">'act-player_rd_d'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//3.call startPlayback but not for speaking_chllange </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">startPlayback</span><span class="pun">(</span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">jQuery</span><span class="pun">(</span><span class="str">'.act-player_icon'</span><span class="pun">).</span><span class="pln">hasClass</span><span class="pun">(</span><span class="str">'act-player_rd_d'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> template_id </span><span class="pun">!==</span><span class="pln"> </span><span class="lit">27</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> jQuery</span><span class="pun">(</span><span class="str">'.act-player_icon'</span><span class="pun">).</span><span class="pln">removeClass</span><span class="pun">(</span><span class="str">'act-player_rd_d'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">onComplete </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="kwd">typeof</span><span class="pln"> onComplete </span><span class="pun">===</span><span class="pln"> </span><span class="str">'function'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> onComplete</span><span class="pun">();</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">},</span><span class="pln"> data</span><span class="pun">);</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=destory>
                <h3>destory:<i> ( lines: 3 characters: 49 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">channels </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{};</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=dispose>
                <h3>dispose:<i> ( lines: 9 characters: 269 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Touch</span><span class="pun">.</span><span class="pln">isiPad</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">stopRecordingDelegate</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Player</span><span class="pun">.</span><span class="pln">isRecording</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">publish</span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">STATUS</span><span class="pun">.</span><span class="pln">interrupt</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">stopRecording</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=errorCallback>
                <h3>errorCallback:<i> ( lines: 48 characters: 2473 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Popup</span><span class="pun">.</span><span class="pln">close</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> isSpeakChallenge </span><span class="pun">=</span><span class="pln"> template_id </span><span class="pun">===</span><span class="pln"> </span><span class="lit">27</span><span class="pun">,</span><span class="pln"> </span><br><span class="pln"> content </span><span class="pun">=</span><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">text</span><span class="pun">.</span><span class="pln">asrFailed</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><br><span class="pln"> </span><span class="com">/*switch (template_id) { </span><br><span class="com"> case 17: //rpm </span><br><span class="com"> case 29: //lcp </span><br><span class="com"> case 27: content = ET.School.UI.Common.Const.text.asrFailedWithoutTyping; break; //SpeakingChallenge </span><br><span class="com"> default: break; </span><br><span class="com"> }*/</span><span class="pln"> </span><br><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">utility</span><span class="pun">.</span><span class="pln">isServerAsrAvaliable </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">isSpeakChallenge</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">popup</span><span class="pun">.</span><span class="pln">serverUnavilable</span><span class="pun">(</span><span class="pln">isSpeakChallenge</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Popup</span><span class="pun">.</span><span class="pln">onYesClick </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//window.location.reload();//this code will cause UI display error </span><br><span class="pln"> </span><span class="kwd">switch</span><span class="pln"> </span><span class="pun">(</span><span class="pln">template_id</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">case</span><span class="pln"> </span><span class="lit">11</span><span class="pun">:</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">$j</span><span class="pun">(</span><span class="str">"#act-fc_popup_shadow"</span><span class="pun">).</span><span class="pln">length </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="str">"#act-fc_popup_shadow"</span><span class="pun">).</span><span class="pln">remove</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="str">".act-card_bg"</span><span class="pun">).</span><span class="pln">remove</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> thislayMode </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Number</span><span class="pun">(</span><span class="pln">jsonData</span><span class="pun">.</span><span class="typ">Activity</span><span class="pun">.</span><span class="typ">LayMode</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">thislayMode </span><span class="pun">==</span><span class="pln"> </span><span class="lit">2</span><span class="pun">)</span><span class="pln"> </span><span class="com">//presentation </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Activity</span><span class="pun">.</span><span class="typ">FlashCardBase</span><span class="pun">.</span><span class="pln">ready</span><span class="pun">(</span><span class="pln">jsonData</span><span class="pun">,</span><span class="pln"> </span><span class="str">"card_practice"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">thislayMode </span><span class="pun">==</span><span class="pln"> </span><span class="lit">3</span><span class="pun">)</span><span class="pln"> </span><span class="com">//presentation &amp; excise </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Activity</span><span class="pun">.</span><span class="typ">FlashCardBase</span><span class="pun">.</span><span class="pln">ready</span><span class="pun">(</span><span class="pln">jsonData</span><span class="pun">,</span><span class="pln"> </span><span class="str">"card_practice"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">thislayMode </span><span class="pun">==</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="com">//excise </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Activity</span><span class="pun">.</span><span class="typ">FlashCardBase</span><span class="pun">.</span><span class="pln">ready</span><span class="pun">(</span><span class="pln">jsonData</span><span class="pun">,</span><span class="pln"> </span><span class="str">"card_excise"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"> </span><span class="com">//fc </span><br><span class="pln"> </span><span class="kwd">case</span><span class="pln"> </span><span class="lit">16</span><span class="pun">:</span><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Activity</span><span class="pun">.</span><span class="typ">RoleplaySingle</span><span class="pun">.</span><span class="pln">ready</span><span class="pun">(</span><span class="pln">jsonData</span><span class="pun">);</span><span class="pln"> </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"> </span><span class="com">//rps </span><br><span class="pln"> </span><span class="kwd">case</span><span class="pln"> </span><span class="lit">17</span><span class="pun">:</span><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Activity</span><span class="pun">.</span><span class="typ">RoleplayMultiple</span><span class="pun">.</span><span class="pln">ready</span><span class="pun">(</span><span class="pln">jsonData</span><span class="pun">);</span><span class="pln"> </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"> </span><span class="com">//rpm </span><br><span class="pln"> </span><span class="kwd">case</span><span class="pln"> </span><span class="lit">32</span><span class="pun">:</span><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Activity</span><span class="pun">.</span><span class="typ">VideoRoleplay</span><span class="pun">.</span><span class="pln">ready</span><span class="pun">(</span><span class="pln">jsonData</span><span class="pun">);</span><span class="pln"> </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"> </span><span class="com">//vps </span><br><span class="pln"> </span><span class="kwd">case</span><span class="pln"> </span><span class="lit">27</span><span class="pun">:</span><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Activity</span><span class="pun">.</span><span class="typ">SpeakingChallenge</span><span class="pun">.</span><span class="pln">ready</span><span class="pun">(</span><span class="pln">jsonData</span><span class="pun">);</span><span class="pln"> </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"> </span><span class="com">//spc </span><br><span class="pln"> </span><span class="kwd">case</span><span class="pln"> </span><span class="lit">29</span><span class="pun">:</span><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Activity</span><span class="pun">.</span><span class="typ">LanguageComparison</span><span class="pun">.</span><span class="pln">ready</span><span class="pun">(</span><span class="pln">jsonData</span><span class="pun">);</span><span class="pln"> </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"> </span><span class="com">//lcp </span><br><span class="pln"> </span><span class="kwd">case</span><span class="pln"> </span><span class="lit">30</span><span class="pun">:</span><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Activity</span><span class="pun">.</span><span class="typ">FlashCardBase</span><span class="pun">.</span><span class="pln">ready</span><span class="pun">(</span><span class="pln">jsonData</span><span class="pun">,</span><span class="pln"> </span><span class="str">"model_sentence"</span><span class="pun">);</span><span class="pln"> </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"> </span><span class="com">//ms </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Popup</span><span class="pun">.</span><span class="pln">close</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Popup</span><span class="pun">.</span><span class="pln">onNoClick </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> </span><span class="typ">_Id</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> jsonData</span><span class="pun">.</span><span class="typ">Activity</span><span class="pun">.</span><span class="typ">Id</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> skipActivity</span><span class="pun">(</span><span class="typ">_Id</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Popup</span><span class="pun">.</span><span class="pln">open</span><span class="pun">(</span><span class="pln">content</span><span class="pun">,</span><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">text</span><span class="pun">.</span><span class="pln">skip</span><span class="pun">,</span><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">text</span><span class="pun">.</span><span class="pln">ok</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=flashAsrEvent>
                <h3>flashAsrEvent:<i> ( lines: 43 characters: 1509 arguments: 1 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">args</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="typ">_AsrBtnClicked</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">/* </span><br><span class="com"> args=[statusCode,audio_id,audioBuffer16,asrtype] </span><br><span class="com"> */</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">switch</span><span class="pln"> </span><span class="pun">(</span><span class="pln">args</span><span class="pun">[</span><span class="lit">0</span><span class="pun">])</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">case</span><span class="pln"> </span><span class="str">'COMPLETE'</span><span class="pun">:</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">/* </span><br><span class="com"> window['_audioPlay'] = audioBuffer22; </span><br><span class="com"> */</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">showASRPopMessage</span><span class="pun">(</span><span class="kwd">false</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> clearInterval</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">asrInterval</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> window</span><span class="pun">[</span><span class="str">'_latestRecording'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> args</span><span class="pun">[</span><span class="lit">2</span><span class="pun">];</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//hide asr indicator </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="str">".act-asr_indicator_activity"</span><span class="pun">).</span><span class="pln">width</span><span class="pun">(</span><span class="lit">0</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="str">".act-asr_indicator"</span><span class="pun">).</span><span class="pln">addClass</span><span class="pun">(</span><span class="str">"act-hide"</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">publish</span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">STATUS</span><span class="pun">.</span><span class="pln">complete</span><span class="pun">,</span><span class="pln"> args</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">case</span><span class="pln"> </span><span class="str">'FAILED'</span><span class="pun">:</span><span class="pln"> </span><br><span class="pln"> clearInterval</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">asrInterval</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">popup</span><span class="pun">.</span><span class="pln">serverUnavilable</span><span class="pun">(</span><span class="kwd">false</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">case</span><span class="pln"> </span><span class="str">'NOMIC'</span><span class="pun">:</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">popup</span><span class="pun">.</span><span class="pln">noPlugin</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">returnRecording</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">case</span><span class="pln"> </span><span class="str">'START'</span><span class="pun">:</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">setServerASRAudioID</span><span class="pun">(</span><span class="pln">args</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">asrBtnLoadingChange</span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">text</span><span class="pun">.</span><span class="pln">recording</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">asrInterval </span><span class="pun">=</span><span class="pln"> setInterval</span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">asrIntervalHandler</span><span class="pun">,</span><span class="pln"> </span><span class="lit">100</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//show asr indicator </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="str">".act-asr_indicator"</span><span class="pun">).</span><span class="pln">removeClass</span><span class="pun">(</span><span class="str">"act-hide"</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">showASRPopMessage</span><span class="pun">(</span><span class="kwd">true</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">case</span><span class="pln"> </span><span class="str">'UNMUTED'</span><span class="pun">:</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">closeMicSettings</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">case</span><span class="pln"> </span><span class="str">'MUTED'</span><span class="pun">:</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">popup</span><span class="pun">.</span><span class="pln">micSetting</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">default</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=flashPlayBackCompleteCallback>
                <h3>flashPlayBackCompleteCallback:<i> ( lines: 8 characters: 257 arguments: 1 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">statusCode</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="typ">_AsrBtnClicked</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">switch</span><span class="pln"> </span><span class="pun">(</span><span class="pln">statusCode</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">case</span><span class="pln"> </span><span class="str">'START'</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">return</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">case</span><span class="pln"> </span><span class="str">'FAILED'</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">messageBox</span><span class="pun">(</span><span class="str">"Flash playback failed!"</span><span class="pun">);</span><span class="pln"> </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">case</span><span class="pln"> </span><span class="str">'COMPLETE'</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">playbackComplete</span><span class="pun">();</span><span class="pln"> </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=getASRMode>
                <h3>getASRMode:<i> ( lines: 11 characters: 395 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> result</span><span class="pun">,</span><span class="pln"> _utils </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">utility</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_utils</span><span class="pun">.</span><span class="pln">isOldAsr</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> result </span><span class="pun">=</span><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">config</span><span class="pun">.</span><span class="pln">asrOldLocalMode</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_utils</span><span class="pun">.</span><span class="pln">isOldAsr</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> result </span><span class="pun">=</span><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">config</span><span class="pun">.</span><span class="pln">asrNewLocalMode</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_utils</span><span class="pun">.</span><span class="pln">isServerAsr</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> result </span><span class="pun">=</span><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">config</span><span class="pun">.</span><span class="pln">asrNewServerMode</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> result</span><span class="pun">;</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=getErrorCode>
                <h3>getErrorCode:<i> ( lines: 17 characters: 697 arguments: 1 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">errorCode</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//pc ASR version 4.3 support errorCode, other early version didn't return errorCode. It returns error message, goto default error handling. </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> asrErrorCodeMapping </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="str">'3'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'VOICE_TOO_SLOW'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'4'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'VOICE_TOO_FAST'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'5'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'VOICE_TOO_LOW'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'6'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'VOICE_TOO_HIGH'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'7'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'VOICE_TOO_NOISY'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'8'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'UNKNOWN'</span><span class="pln"> </span><span class="pun">};</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> result </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">undefined</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">try</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> result </span><span class="pun">=</span><span class="pln"> asrErrorCodeMapping</span><span class="pun">[</span><span class="pln">errorCode</span><span class="pun">];</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="pln">e</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> result </span><span class="pun">=</span><span class="pln"> </span><span class="str">'UNKNOWN'</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">result</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> result </span><span class="pun">=</span><span class="pln"> </span><span class="str">'UNKNOWN'</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//because no voice error is not asr error,so i fixed in the fllowing way: </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">errorCode</span><span class="pun">.</span><span class="pln">length </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> result </span><span class="pun">=</span><span class="pln"> </span><span class="str">'NO_VOICE'</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> result</span><span class="pun">;</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=getLatestRecording>
                <h3>getLatestRecording:<i> ( lines: 3 characters: 56 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> window</span><span class="pun">[</span><span class="str">'_latestRecording'</span><span class="pun">];</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=getRecordFlash>
                <h3>getRecordFlash:<i> ( lines: 8 characters: 175 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">navigator</span><span class="pun">.</span><span class="pln">appName</span><span class="pun">.</span><span class="pln">indexOf</span><span class="pun">(</span><span class="str">"Microsoft"</span><span class="pun">)</span><span class="pln"> </span><span class="pun">!=</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> window</span><span class="pun">.</span><span class="typ">WaveRecorder</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> document</span><span class="pun">.</span><span class="typ">WaveRecorder</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=getServerASRAudioID>
                <h3>getServerASRAudioID:<i> ( lines: 3 characters: 52 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">_serverASRAudioID</span><span class="pun">;</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=getServerRecognizeResult>
                <h3>getServerRecognizeResult:<i> ( lines: 22 characters: 631 arguments: 3 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">url</span><span class="pun">,</span><span class="pln"> pars</span><span class="pun">,</span><span class="pln"> callback</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">.</span><span class="pln">ajax</span><span class="pun">({</span><span class="pln"> </span><br><span class="pln"> data</span><span class="pun">:</span><span class="pln"> pars</span><span class="pun">,</span><span class="pln"> </span><br><span class="pln"> url</span><span class="pun">:</span><span class="pln"> url</span><span class="pun">,</span><span class="pln"> </span><br><span class="pln"> type</span><span class="pun">:</span><span class="pln"> </span><span class="str">"POST"</span><span class="pun">,</span><span class="pln"> </span><br><span class="pln"> cache</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> </span><br><span class="pln"> dataType</span><span class="pun">:</span><span class="pln"> </span><span class="str">"xml"</span><span class="pun">,</span><span class="pln"> </span><br><span class="pln"> success</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">xmlDom</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">publish</span><span class="pun">(</span><span class="str">'asrCallBackComplete'</span><span class="pun">,</span><span class="pln"> callback</span><span class="pun">,</span><span class="pln"> xmlDom</span><span class="pun">.</span><span class="pln">xml</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">},</span><span class="pln"> </span><br><span class="pln"> error</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">xml</span><span class="pun">,</span><span class="pln"> status</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">status </span><span class="pun">==</span><span class="pln"> </span><span class="str">'error'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">try</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//alert(xml.responseText); </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="pln">e</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//alert(status); </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">publish</span><span class="pun">(</span><span class="str">'asrCallBackComplete'</span><span class="pun">,</span><span class="pln"> callback</span><span class="pun">,</span><span class="str">''</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">});</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=hideASRNotification>
                <h3>hideASRNotification:<i> ( lines: 6 characters: 167 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> asrMessageDiv </span><span class="pun">=</span><span class="pln"> $j</span><span class="pun">(</span><span class="str">"#act-asr_noti_wrap"</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">asrMessageDiv</span><span class="pun">.</span><span class="pln">hasClass</span><span class="pun">(</span><span class="str">"act-hide"</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> asrMessageDiv</span><span class="pun">.</span><span class="pln">addClass</span><span class="pun">(</span><span class="str">"act-hide"</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=hideAsrPop>
                <h3>hideAsrPop:<i> ( lines: 3 characters: 68 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="str">".act-asr_rec_popup"</span><span class="pun">).</span><span class="pln">addClass</span><span class="pun">(</span><span class="str">'act-hide'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=initASRBtnHover>
                <h3>initASRBtnHover:<i> ( lines: 15 characters: 601 arguments: 1 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">selector</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> setTimeout</span><span class="pun">(</span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="pln">selector</span><span class="pun">).</span><span class="pln">hover</span><span class="pun">(</span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">$j</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">).</span><span class="pln">parents</span><span class="pun">(</span><span class="str">'.act-player_icon'</span><span class="pun">).</span><span class="pln">hasClass</span><span class="pun">(</span><span class="str">"act-player_rd_n"</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">).</span><span class="pln">parents</span><span class="pun">(</span><span class="str">'.act-player_icon'</span><span class="pun">).</span><span class="pln">addClass</span><span class="pun">(</span><span class="str">"act-player_rd_h"</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">$j</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">).</span><span class="pln">hasClass</span><span class="pun">(</span><span class="str">'act-asr_rec_btn_h'</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">).</span><span class="pln">addClass</span><span class="pun">(</span><span class="str">'act-asr_rec_btn_h'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">},</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">).</span><span class="pln">parents</span><span class="pun">(</span><span class="str">'.act-player_icon'</span><span class="pun">).</span><span class="pln">removeClass</span><span class="pun">(</span><span class="str">"act-player_rd_h"</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">).</span><span class="pln">removeClass</span><span class="pun">(</span><span class="str">'act-asr_rec_btn_h'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">});</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">},</span><span class="pln"> </span><span class="lit">25</span><span class="pun">);</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=initEvent>
                <h3>initEvent:<i> ( lines: 14 characters: 780 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> window</span><span class="pun">.</span><span class="pln">ET_School_Scripts_ExternalMethods_Precache</span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">loadingIconURL</span><span class="pun">);</span><span class="pln"> </span><span class="com">//cache loading icon </span><br><span class="pln"> setTimeout</span><span class="pun">(</span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> title </span><span class="pun">=</span><span class="pln"> jQuery</span><span class="pun">(</span><span class="str">'.micsettings_2_head'</span><span class="pun">).</span><span class="pln">html</span><span class="pun">().</span><span class="pln">replace</span><span class="pun">(</span><span class="str">/\^.*?\^/</span><span class="pln">ig</span><span class="pun">,</span><span class="pln"> </span><span class="str">' "</span><span class="\'micsettings_ico_tab_privacy\'"></span><span class="str">" '</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> jQuery</span><span class="pun">(</span><span class="str">".micsettings_2_head"</span><span class="pun">).</span><span class="pln">html</span><span class="pun">(</span><span class="pln">title</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">},</span><span class="pln"> </span><span class="lit">100</span><span class="pun">);</span><span class="pln"> </span><span class="com">//add for IE browser </span><br><span class="pln"> jQuery</span><span class="pun">(</span><span class="str">"#btn-micsettings-done"</span><span class="pun">).</span><span class="pln">click</span><span class="pun">(</span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">closeMicSettings</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">recorderTrace</span><span class="pun">(</span><span class="str">"reload"</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> window</span><span class="pun">.</span><span class="pln">location</span><span class="pun">.</span><span class="pln">reload</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">});</span><span class="pln"> </span><br><span class="pln"> jQuery</span><span class="pun">(</span><span class="str">"#btn-micsettings-done"</span><span class="pun">).</span><span class="pln">hover</span><span class="pun">(</span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> jQuery</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">).</span><span class="pln">addClass</span><span class="pun">(</span><span class="str">"btn-micsettings-done_h"</span><span class="pun">);</span><span class="pln"> </span><span class="pun">},</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> jQuery</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">).</span><span class="pln">removeClass</span><span class="pun">(</span><span class="str">"btn-micsettings-done_h"</span><span class="pun">);</span><span class="pln"> </span><span class="pun">});</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">manager</span><span class="pun">.</span><span class="pln">execute</span><span class="pun">(</span><span class="str">'init'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=isAsrEnabled>
                <h3>isAsrEnabled:<i> ( lines: 3 characters: 57 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">utility</span><span class="pun">.</span><span class="pln">isAsrEnabled</span><span class="pun">();</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=isAsrInstalled>
                <h3>isAsrInstalled:<i> ( lines: 3 characters: 59 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">utility</span><span class="pun">.</span><span class="pln">isAsrInstalled</span><span class="pun">();</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=lazyActiveRecord>
                <h3>lazyActiveRecord:<i> ( lines: 14 characters: 586 arguments: 3 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">excuteFun</span><span class="pun">,</span><span class="pln"> callback</span><span class="pun">,</span><span class="pln"> isClear</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">config</span><span class="pun">.</span><span class="pln">isIpad</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">excuteFun </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="kwd">typeof</span><span class="pln"> excuteFun </span><span class="pun">===</span><span class="pln"> </span><span class="str">'function'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> excuteFun</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">callback </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="kwd">typeof</span><span class="pln"> callback </span><span class="pun">===</span><span class="pln"> </span><span class="str">'function'</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="pun">!</span><span class="pln">isClear</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">lazyActiveRecord</span><span class="pun">[</span><span class="str">'callback'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> setTimeout</span><span class="pun">(</span><span class="pln">callback</span><span class="pun">,</span><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="typ">PendingTime</span><span class="pun">.</span><span class="pln">recordReEnabled</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">isClear</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> clearTimeout</span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">lazyActiveRecord</span><span class="pun">[</span><span class="str">'callback'</span><span class="pun">]);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">callback </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="kwd">typeof</span><span class="pln"> callback </span><span class="pun">===</span><span class="pln"> </span><span class="str">'function'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> callback</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=length>
                <h3>length:<i> ( lines: 1 characters: 3 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="lit">600</span></pre>
</li>            <li class='l' id=level>
                <h3>level:<i> ( lines: 1 characters: 2 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="lit">60</span></pre>
</li>            <li class='l' id=loadAsrButton>
                <h3>loadAsrButton:<i> ( lines: 18 characters: 931 arguments: 3 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">container_selector</span><span class="pun">,</span><span class="pln"> extra_condition</span><span class="pun">,</span><span class="pln"> elmes_should_remove_arr</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> isvlid </span><span class="pun">=</span><span class="pln"> extra_condition </span><span class="pun">||</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">isvlid </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">config</span><span class="pun">.</span><span class="pln">isIpad</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">isAsrEnabled</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="pln">container_selector</span><span class="pun">).</span><span class="pln">html</span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="pln">loadTemplateToText</span><span class="pun">(</span><span class="pln">window</span><span class="pun">.</span><span class="pln">jTemplatePath </span><span class="pun">+</span><span class="pln"> </span><span class="str">"_jtemplates/study/activities/asr_button.tpl"</span><span class="pun">));</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="str">'.act-asr_recorder'</span><span class="pun">).</span><span class="pln">parents</span><span class="pun">(</span><span class="str">'.act-player_icon'</span><span class="pun">).</span><span class="pln">css</span><span class="pun">(</span><span class="str">'background'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'none'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">elmes_should_remove_arr</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">var</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> elmes_should_remove_arr</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">--;</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="pln">elmes_should_remove_arr</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]).</span><span class="pln">remove</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">jQuery</span><span class="pun">(</span><span class="str">".act-asr_rec_popup_msg_expand"</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> jQuery</span><span class="pun">(</span><span class="str">".act-asr_rec_popup_msg_expand"</span><span class="pun">).</span><span class="pln">click</span><span class="pun">(</span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> jQuery</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">).</span><span class="pln">toggleClass</span><span class="pun">(</span><span class="str">"act-asr_rec_popup_msg_expand_collapse"</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> jQuery</span><span class="pun">(</span><span class="str">".act-asr_rec_popup_msg_detail"</span><span class="pun">).</span><span class="pln">toggle</span><span class="pun">(</span><span class="str">'fast'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">});</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=loadingIconURL>
                <h3>loadingIconURL:<i> ( lines: 1 characters: 48 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pun">../..</span><span class="com">//_imgs/ui/courseware/study/asr_loading.gif</span></pre>
</li>            <li class='l' id=localRecordCallback>
                <h3>localRecordCallback:<i> ( lines: 6 characters: 187 arguments: 3 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">statusCode</span><span class="pun">,</span><span class="pln"> audio_id</span><span class="pun">,</span><span class="pln"> audioBuffer16</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> args </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[].</span><span class="pln">slice</span><span class="pun">.</span><span class="pln">call</span><span class="pun">(</span><span class="pln">arguments</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><br><span class="pln"> args</span><span class="pun">.</span><span class="pln">push</span><span class="pun">(</span><span class="str">'local'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">recorderTrace</span><span class="pun">(</span><span class="pln">args</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">flashAsrEvent</span><span class="pun">(</span><span class="pln">args</span><span class="pun">);</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=localRecordingComplete>
                <h3>localRecordingComplete:<i> ( lines: 14 characters: 499 arguments: 1 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">data</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//window.console.warn("ET.NA.ASR.recordingComplete"); </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> prons </span><span class="pun">=</span><span class="pln"> window</span><span class="pun">[</span><span class="str">'_prons'</span><span class="pun">];</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">prons</span><span class="pun">)</span><span class="pln"> </span><span class="com">// need recogize </span><br><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">asrBtnLoadingChange</span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">text</span><span class="pun">.</span><span class="pln">asr_processing</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//change end </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">localStartRecognize</span><span class="pun">(</span><span class="pln">prons</span><span class="pun">,</span><span class="pln"> data</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">result</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">recognizeComplete</span><span class="pun">(</span><span class="pln">result</span><span class="pun">);</span><span class="pln"> </span><span class="pun">});</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">window</span><span class="pun">[</span><span class="str">'_asrRecordCallback'</span><span class="pun">])</span><span class="pln"> </span><span class="com">// no need recogize </span><br><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> window</span><span class="pun">[</span><span class="str">'_asrRecordCallback'</span><span class="pun">]();</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=localStartRecognize>
                <h3>localStartRecognize:<i> ( lines: 12 characters: 376 arguments: 3 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">prons</span><span class="pun">,</span><span class="pln"> data</span><span class="pun">,</span><span class="pln"> onComplete</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//window.console.warn("ET.NA.ASR.startRecognize"); </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> result </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">prons</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">// GetTalkpalAX().SetContext(Base64.decode(prons)); </span><br><span class="pln"> result </span><span class="pun">=</span><span class="pln"> </span><span class="typ">GetTalkpalAX</span><span class="pun">().</span><span class="typ">GetResult2</span><span class="pun">(</span><span class="pln">data</span><span class="pun">,</span><span class="pln"> data</span><span class="pun">.</span><span class="pln">length</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">onComplete</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//window.console.error(result); </span><br><span class="pln"> onComplete</span><span class="pun">(</span><span class="pln">result</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=manager>
                <h3>manager:<i> ( lines: undefined characters: undefined arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pun">[</span><span class="pln">object </span><span class="typ">Object</span><span class="pun">]</span></pre>
</li>            <li class='l' id=micGain>
                <h3>micGain:<i> ( lines: 1 characters: 2 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="lit">50</span></pre>
</li>            <li class='l' id=needHidePlayback>
                <h3>needHidePlayback:<i> ( lines: 8 characters: 213 arguments: 1 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">playback_id</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">getASRMode</span><span class="pun">()</span><span class="pln"> </span><span class="pun">===</span><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">config</span><span class="pun">.</span><span class="pln">asrOldLocalMode </span><span class="pun">||</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">!</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">isAsrEnabled</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=playbackComplete>
                <h3>playbackComplete:<i> ( lines: 5 characters: 181 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="typ">_AsrBtnClicked</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//window.console.warn("ET.NA.ASR.playbackComplete"); </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">window</span><span class="pun">[</span><span class="str">'_playbackCallback'</span><span class="pun">])</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> window</span><span class="pun">[</span><span class="str">'_playbackCallback'</span><span class="pun">]();</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=popup>
                <h3>popup:<i> ( lines: undefined characters: undefined arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pun">[</span><span class="pln">object </span><span class="typ">Object</span><span class="pun">]</span></pre>
</li>            <li class='l' id=publish>
                <h3>publish:<i> ( lines: 11 characters: 414 arguments: 1 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">channel</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> channels </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">channels</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">channels</span><span class="pun">[</span><span class="pln">channel</span><span class="pun">])</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> args </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Array</span><span class="pun">.</span><span class="pln">prototype</span><span class="pun">.</span><span class="pln">slice</span><span class="pun">.</span><span class="pln">call</span><span class="pun">(</span><span class="pln">arguments</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">var</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> l </span><span class="pun">=</span><span class="pln"> channels</span><span class="pun">[</span><span class="pln">channel</span><span class="pun">].</span><span class="pln">length</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> l</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> subscription </span><span class="pun">=</span><span class="pln"> channels</span><span class="pun">[</span><span class="pln">channel</span><span class="pun">][</span><span class="pln">i</span><span class="pun">];</span><span class="pln"> </span><br><span class="pln"> subscription</span><span class="pun">.</span><span class="pln">callback</span><span class="pun">.</span><span class="pln">apply</span><span class="pun">(</span><span class="pln">subscription</span><span class="pun">.</span><span class="pln">context</span><span class="pun">,</span><span class="pln"> args</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=recognizeComplete>
                <h3>recognizeComplete:<i> ( lines: 42 characters: 1700 arguments: 1 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">result</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">/* asr change ui */</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">/*$j("#act-rec_loading_img").addClass("act-hide");*/</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">asrBtnLoadingChange</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//change end </span><br><span class="pln"> </span><br><span class="pln"> </span><span class="com">//window.console.warn("ET.NA.ASR.recognizeComplete"); </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> jsonResult </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> jXML </span><span class="pun">=</span><span class="pln"> xmlToJDom</span><span class="pun">(</span><span class="pln">result</span><span class="pun">),</span><span class="pln"> </span><br><span class="pln"> errorCode </span><span class="pun">=</span><span class="pln"> jXML</span><span class="pun">.</span><span class="pln">attr</span><span class="pun">(</span><span class="str">'error'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> jXML</span><span class="pun">.</span><span class="pln">find</span><span class="pun">(</span><span class="str">'TPResult'</span><span class="pun">).</span><span class="pln">attr</span><span class="pun">(</span><span class="str">'error'</span><span class="pun">),</span><span class="pln"> </span><br><span class="pln"> reason </span><span class="pun">=</span><span class="pln"> jXML</span><span class="pun">.</span><span class="pln">attr</span><span class="pun">(</span><span class="str">'error'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> jXML</span><span class="pun">.</span><span class="pln">find</span><span class="pun">(</span><span class="str">'TPResult'</span><span class="pun">).</span><span class="pln">attr</span><span class="pun">(</span><span class="str">'reason'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> </span><span class="str">""</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">errorCode</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">recorderTrace</span><span class="pun">(</span><span class="str">"Error:"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> errorCode </span><span class="pun">+</span><span class="pln"> </span><span class="str">" Reason: "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> reason</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> jsonResult</span><span class="pun">.</span><span class="pln">errorCode </span><span class="pun">=</span><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">getErrorCode</span><span class="pun">(</span><span class="pln">errorCode</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="pln">asrErrorPop</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="pln">asrErrorPop</span><span class="pun">(</span><span class="pln">jsonResult</span><span class="pun">.</span><span class="pln">errorCode</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">window</span><span class="pun">[</span><span class="str">'_startRecognizeCallback'</span><span class="pun">])</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> window</span><span class="pun">[</span><span class="str">'_startRecognizeCallback'</span><span class="pun">](</span><span class="pln">jsonResult</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">});</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> jXML</span><span class="pun">.</span><span class="pln">find</span><span class="pun">(</span><span class="str">'Sentence'</span><span class="pun">).</span><span class="pln">each</span><span class="pun">(</span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> jSentence </span><span class="pun">=</span><span class="pln"> jQuery</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">),</span><span class="pln"> </span><br><span class="pln"> sentence </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> sentence</span><span class="pun">:</span><span class="pln"> jSentence</span><span class="pun">.</span><span class="pln">attr</span><span class="pun">(</span><span class="str">'trans'</span><span class="pun">),</span><span class="pln"> index</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Number</span><span class="pun">(</span><span class="pln">jSentence</span><span class="pun">.</span><span class="pln">attr</span><span class="pun">(</span><span class="str">'id'</span><span class="pun">)),</span><span class="pln"> score</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Number</span><span class="pun">(</span><span class="pln">jSentence</span><span class="pun">.</span><span class="pln">attr</span><span class="pun">(</span><span class="str">'score'</span><span class="pun">))</span><span class="pln"> </span><span class="pun">};</span><span class="pln"> </span><br><span class="pln"> sentence</span><span class="pun">.</span><span class="pln">words </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[];</span><span class="pln"> </span><br><span class="pln"> jSentence</span><span class="pun">.</span><span class="pln">find</span><span class="pun">(</span><span class="str">'Word'</span><span class="pun">).</span><span class="pln">each</span><span class="pun">(</span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> jWord </span><span class="pun">=</span><span class="pln"> jQuery</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> sentence</span><span class="pun">.</span><span class="pln">words</span><span class="pun">.</span><span class="pln">push</span><span class="pun">({</span><span class="pln"> word</span><span class="pun">:</span><span class="pln"> jWord</span><span class="pun">.</span><span class="pln">attr</span><span class="pun">(</span><span class="str">'trans'</span><span class="pun">),</span><span class="pln"> score</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Number</span><span class="pun">(</span><span class="pln">jWord</span><span class="pun">.</span><span class="pln">attr</span><span class="pun">(</span><span class="str">'score'</span><span class="pun">))</span><span class="pln"> </span><span class="pun">});</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">});</span><span class="pln"> </span><br><span class="pln"> jsonResult</span><span class="pun">.</span><span class="pln">push</span><span class="pun">(</span><span class="pln">sentence</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">});</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">window</span><span class="pun">[</span><span class="str">'_startRecognizeCallback'</span><span class="pun">])</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> window</span><span class="pun">[</span><span class="str">'_startRecognizeCallback'</span><span class="pun">](</span><span class="pln">jsonResult</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">asrBtnLoadingChange</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> window</span><span class="pun">[</span><span class="str">'_startRecognizeCallback'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> window</span><span class="pun">[</span><span class="str">'_prons'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=recorderTrace>
                <h3>recorderTrace:<i> ( lines: 9 characters: 208 arguments: 1 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">msg</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">window</span><span class="pun">[</span><span class="str">'debugASR'</span><span class="pun">])</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">window</span><span class="pun">.</span><span class="pln">console</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> window</span><span class="pun">.</span><span class="pln">console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">msg</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">window</span><span class="pun">.</span><span class="pln">status</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> window</span><span class="pun">.</span><span class="pln">status </span><span class="pun">=</span><span class="pln"> msg</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=recordingComplete>
                <h3>recordingComplete:<i> ( lines: 17 characters: 583 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="typ">_AsrBtnClicked</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//window.console.warn("ET.NA.ASR.recordingComplete"); </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> prons </span><span class="pun">=</span><span class="pln"> window</span><span class="pun">[</span><span class="str">'_prons'</span><span class="pun">];</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">prons</span><span class="pun">)</span><span class="pln"> </span><span class="com">// need recogize </span><br><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">asrBtnLoadingChange</span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">text</span><span class="pun">.</span><span class="pln">asr_processing</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">startRecognize</span><span class="pun">(</span><span class="pln">prons</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">result</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">recognizeComplete</span><span class="pun">(</span><span class="pln">result</span><span class="pun">);</span><span class="pln"> </span><span class="pun">});</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">window</span><span class="pun">[</span><span class="str">'_asrRecordCallback'</span><span class="pun">])</span><span class="pln"> </span><span class="com">// no need recogize </span><br><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">asrBtnLoadingChange</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> window</span><span class="pun">[</span><span class="str">'_asrRecordCallback'</span><span class="pun">]();</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">asrBtnLoadingChange</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=returnRecording>
                <h3>returnRecording:<i> ( lines: 9 characters: 444 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> setTimeout</span><span class="pun">(</span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Player</span><span class="pun">.</span><span class="pln">isRecording </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="str">"#act-card_close"</span><span class="pun">).</span><span class="pln">removeClass</span><span class="pun">(</span><span class="str">"act-card_close_d"</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="str">"#activity .act-player_rd_n"</span><span class="pun">).</span><span class="pln">removeClass</span><span class="pun">(</span><span class="str">"act-player_rd_c"</span><span class="pun">).</span><span class="pln">removeClass</span><span class="pun">(</span><span class="str">"act-player_rd_d"</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="str">".act-asr_rec_popup_msg_expand"</span><span class="pun">).</span><span class="pln">addClass</span><span class="pun">(</span><span class="str">'act-hide'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">asrBtnLoadingChange</span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">text</span><span class="pun">.</span><span class="pln">startrecord</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">},</span><span class="pln"> </span><span class="lit">500</span><span class="pun">);</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=serverRecordCallback>
                <h3>serverRecordCallback:<i> ( lines: 6 characters: 188 arguments: 3 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">statusCode</span><span class="pun">,</span><span class="pln"> audio_id</span><span class="pun">,</span><span class="pln"> audioBuffer16</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> args </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[].</span><span class="pln">slice</span><span class="pun">.</span><span class="pln">call</span><span class="pun">(</span><span class="pln">arguments</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><br><span class="pln"> args</span><span class="pun">.</span><span class="pln">push</span><span class="pun">(</span><span class="str">'server'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">recorderTrace</span><span class="pun">(</span><span class="pln">args</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">flashAsrEvent</span><span class="pun">(</span><span class="pln">args</span><span class="pun">);</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=serverRecordingComplete>
                <h3>serverRecordingComplete:<i> ( lines: 16 characters: 575 arguments: 1 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">audio_id</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//window.console.warn("ET.NA.ASR.recordingComplete"); </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> prons </span><span class="pun">=</span><span class="pln"> window</span><span class="pun">[</span><span class="str">'_prons'</span><span class="pun">];</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">prons</span><span class="pun">)</span><span class="pln"> </span><span class="com">// need recogize </span><br><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">asrBtnLoadingChange</span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">text</span><span class="pun">.</span><span class="pln">asr_processing</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//change end </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">serverStartRecognize</span><span class="pun">(</span><span class="pln">audio_id</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">result</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">recognizeComplete</span><span class="pun">(</span><span class="pln">result</span><span class="pun">);</span><span class="pln"> </span><span class="pun">});</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">window</span><span class="pun">[</span><span class="str">'_asrRecordCallback'</span><span class="pun">])</span><span class="pln"> </span><span class="com">// no need recogize </span><br><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">// no case enter here. </span><br><span class="pln"> window</span><span class="pun">[</span><span class="str">'_asrRecordCallback'</span><span class="pun">]();</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">asrBtnLoadingChange</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=serverStartRecognize>
                <h3>serverStartRecognize:<i> ( lines: 10 characters: 392 arguments: 2 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">audio_id</span><span class="pun">,</span><span class="pln"> onComplete</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//window.console.warn("ET.NA.ASR.startRecognize"); </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> result </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><br><span class="pln"> prons </span><span class="pun">=</span><span class="pln"> window</span><span class="pun">[</span><span class="str">'_prons'</span><span class="pun">];</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">prons</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//ajax call for result </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">getServerRecognizeResult</span><span class="pun">(</span><span class="pln">window</span><span class="pun">[</span><span class="str">'asrServerResultUrl'</span><span class="pun">],</span><span class="pln"> </span><br><span class="pln"> </span><span class="str">'guid='</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> audio_id </span><span class="pun">+</span><span class="pln"> </span><span class="str">'&amp;token='</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> window</span><span class="pun">.</span><span class="pln">token </span><span class="pun">+</span><span class="pln"> </span><span class="str">'&amp;utcDateToken='</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> window</span><span class="pun">.</span><span class="pln">utcDateToken</span><span class="pun">,</span><span class="pln"> onComplete</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=setOldLocalPreference>
                <h3>setOldLocalPreference:<i> ( lines: 11 characters: 385 arguments: 4 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">before</span><span class="pun">,</span><span class="pln"> after</span><span class="pun">,</span><span class="pln"> level</span><span class="pun">,</span><span class="pln"> length</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">beforeDelay </span><span class="pun">=</span><span class="pln"> before </span><span class="pun">||</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">beforeDelay</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">afterDelay </span><span class="pun">=</span><span class="pln"> after </span><span class="pun">||</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">afterDelay</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">level </span><span class="pun">=</span><span class="pln"> level </span><span class="pun">||</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">level</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">length </span><span class="pun">=</span><span class="pln"> length </span><span class="pun">||</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> _talkpal </span><span class="pun">=</span><span class="pln"> </span><span class="typ">GetTalkpalAX</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_talkpal</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> _talkpal</span><span class="pun">.</span><span class="typ">SetPreference</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">beforeDelay</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">afterDelay</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">level</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">length</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=setServerASRAudioID>
                <h3>setServerASRAudioID:<i> ( lines: 5 characters: 78 arguments: 1 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">id</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">id</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">_serverASRAudioID </span><span class="pun">=</span><span class="pln"> id</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=showASRPopMessage>
                <h3>showASRPopMessage:<i> ( lines: 10 characters: 308 arguments: 1 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">isShow</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> _asr_recoder</span><span class="pun">=</span><span class="pln">$j</span><span class="pun">(</span><span class="str">'.act-asr_recorder'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">isShow</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">_asr_recoder</span><span class="pun">.</span><span class="pln">hasClass</span><span class="pun">(</span><span class="str">'act-asr_rec_popup_show'</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> _asr_recoder</span><span class="pun">.</span><span class="pln">addClass</span><span class="pun">(</span><span class="str">'act-asr_rec_popup_show'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> _asr_recoder</span><span class="pun">.</span><span class="pln">removeClass</span><span class="pun">(</span><span class="str">'act-asr_rec_popup_show'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=showAsrPop>
                <h3>showAsrPop:<i> ( lines: 5 characters: 135 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">$j</span><span class="pun">(</span><span class="str">".act-asr_rec_popup"</span><span class="pun">).</span><span class="pln">hasClass</span><span class="pun">(</span><span class="str">'act-hide'</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="str">".act-asr_rec_popup"</span><span class="pun">).</span><span class="pln">remove</span><span class="pun">(</span><span class="str">'act-hide'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=silenceLevel>
                <h3>silenceLevel:<i> ( lines: 1 characters: 1 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="lit">5</span></pre>
</li>            <li class='l' id=startOldLocalASRdebug>
                <h3>startOldLocalASRdebug:<i> ( lines: 6 characters: 114 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> _talkpal </span><span class="pun">=</span><span class="pln"> </span><span class="typ">GetTalkpalAX</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_talkpal</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> _talkpal</span><span class="pun">.</span><span class="typ">SetDebugMode</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=startPlayback>
                <h3>startPlayback:<i> ( lines: 17 characters: 725 arguments: 2 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">onComplete</span><span class="pun">,</span><span class="pln"> data</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> _utils </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">utility</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_utils</span><span class="pun">.</span><span class="pln">isAsrDisabled</span><span class="pun">()</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="typ">_AsrBtnClicked</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="typ">_AsrBtnClicked</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//window.console.warn("ET.NA.ASR.startPlayback"); </span><br><span class="pln"> </span><span class="com">//GetTalkpalAX().StopRecord(); //stop first, otherwise the browser will crash. </span><br><span class="pln"> window</span><span class="pun">[</span><span class="str">'_playbackCallback'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> onComplete</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_utils</span><span class="pun">.</span><span class="pln">isOldAsr</span><span class="pun">()</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> _utils</span><span class="pun">.</span><span class="pln">isNewAsr</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">recorderTrace</span><span class="pun">(</span><span class="str">"local_asr_record_data----"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> data</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="typ">GetTalkpalAX</span><span class="pun">().</span><span class="typ">Play</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_utils</span><span class="pun">.</span><span class="pln">isServerAsr</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">getRecordFlash</span><span class="pun">().</span><span class="pln">startPlayback</span><span class="pun">(</span><span class="str">'/asr/'</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">getServerASRAudioID</span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="str">'.flv'</span><span class="pun">,</span><span class="pln"> </span><span class="str">"ET.NA.ASR.flashPlayBackCompleteCallback"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"ET.NA.ASR.errorCallback"</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=startRecognize>
                <h3>startRecognize:<i> ( lines: 15 characters: 414 arguments: 2 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">prons</span><span class="pun">,</span><span class="pln"> onComplete</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">isAsrEnabled</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//window.console.warn("ET.NA.ASR.startRecognize"); </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> result </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">prons</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">// GetTalkpalAX().SetContext(Base64.decode(prons)); </span><br><span class="pln"> result </span><span class="pun">=</span><span class="pln"> </span><span class="typ">GetTalkpalAX</span><span class="pun">().</span><span class="typ">GetResult</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">onComplete</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//window.console.error(result); </span><br><span class="pln"> onComplete</span><span class="pun">(</span><span class="pln">result</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=startRecognizeRecording>
                <h3>startRecognizeRecording:<i> ( lines: 12 characters: 424 arguments: 2 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">prons</span><span class="pun">,</span><span class="pln"> cb</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">/* asr ui change */</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">asrBtnLoadingChange</span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">text</span><span class="pun">.</span><span class="pln">asr_processing</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//change end </span><br><span class="pln"> </span><span class="com">//window.console.warn("ET.NA.ASR.startRecognizeRecording"); </span><br><span class="pln"> window</span><span class="pun">[</span><span class="str">'_prons'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> prons</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">utility</span><span class="pun">.</span><span class="pln">isLocalAsr</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="typ">GetTalkpalAX</span><span class="pun">().</span><span class="typ">SetContext</span><span class="pun">(</span><span class="typ">Base64</span><span class="pun">.</span><span class="pln">decode</span><span class="pun">(</span><span class="pln">prons</span><span class="pun">));</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> window</span><span class="pun">[</span><span class="str">'_startRecognizeCallback'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> cb</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">startRecording</span><span class="pun">();</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=startRecording>
                <h3>startRecording:<i> ( lines: 68 characters: 2867 arguments: 4 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">cb</span><span class="pun">,</span><span class="pln"> autoTime</span><span class="pun">,</span><span class="pln"> micGain</span><span class="pun">,</span><span class="pln"> silenceLevel</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="typ">_AsrBtnClicked</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">publish</span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">STATUS</span><span class="pun">.</span><span class="pln">start</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="typ">_AsrBtnClicked</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">_isFirst </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">recorderTrace</span><span class="pun">(</span><span class="str">"AsrOpenType:"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> window</span><span class="pun">[</span><span class="str">'AsrOpenType'</span><span class="pun">]);</span><span class="pln"> </span><br><span class="pln"> </span><br><span class="pln"> </span><span class="com">/* asr ui change*/</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">asrBtnLoadingChange</span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">text</span><span class="pun">.</span><span class="pln">asr_preparing</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> loadingOffset </span><span class="pun">=</span><span class="pln"> $j</span><span class="pun">(</span><span class="str">".act-player_rd_n"</span><span class="pun">).</span><span class="pln">offset</span><span class="pun">(),</span><span class="pln"> </span><br><span class="pln"> wrapperOffset </span><span class="pun">=</span><span class="pln"> $j</span><span class="pun">(</span><span class="str">"#wrapper"</span><span class="pun">).</span><span class="pln">offset</span><span class="pun">(),</span><span class="pln"> </span><br><span class="pln"> loadingTop </span><span class="pun">=</span><span class="pln"> loadingOffset</span><span class="pun">.</span><span class="pln">top </span><span class="pun">+</span><span class="pln"> </span><span class="lit">16</span><span class="pun">,</span><span class="pln"> </span><br><span class="pln"> loadingLeft </span><span class="pun">=</span><span class="pln"> loadingOffset</span><span class="pun">.</span><span class="pln">left </span><span class="pun">+</span><span class="pln"> </span><span class="lit">15</span><span class="pun">,</span><span class="pln"> </span><br><span class="pln"> wrapperTop </span><span class="pun">=</span><span class="pln"> wrapperOffset</span><span class="pun">.</span><span class="pln">top</span><span class="pun">,</span><span class="pln"> </span><br><span class="pln"> wrapperLeft </span><span class="pun">=</span><span class="pln"> wrapperOffset</span><span class="pun">.</span><span class="pln">left</span><span class="pun">,</span><span class="pln"> </span><br><span class="pln"> autostopTime </span><span class="pun">=</span><span class="pln"> autoTime </span><span class="pun">||</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">autoStopTime</span><span class="pun">,</span><span class="pln"> </span><br><span class="pln"> micGain </span><span class="pun">=</span><span class="pln"> micGain </span><span class="pun">||</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">micGain</span><span class="pun">,</span><span class="pln"> </span><br><span class="pln"> silenceLevel </span><span class="pun">=</span><span class="pln"> silenceLevel </span><span class="pun">||</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">silenceLevel</span><span class="pun">,</span><span class="pln"> </span><br><span class="pln"> _utils </span><span class="pun">=</span><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">utility</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><br><span class="pln"> </span><span class="com">/*$j("#act-rec_loading_img").css({ "top": loadingTop - wrapperTop, "left": loadingLeft - wrapperLeft });*///pc version is </span><br><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">cb</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//for recording 1 min </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">config</span><span class="pun">.</span><span class="pln">recordMaxLength </span><span class="pun">=</span><span class="pln"> </span><span class="lit">60000</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> window</span><span class="pun">[</span><span class="str">'_asrRecordCallback'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> cb</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">recorderTrace</span><span class="pun">(</span><span class="str">"startRecording"</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_utils</span><span class="pun">.</span><span class="pln">isOldAsr</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//change end </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">showASRPopMessage</span><span class="pun">(</span><span class="kwd">false</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//****** use old activex to recording ***** </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">asrBtnLoadingChange</span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">text</span><span class="pun">.</span><span class="pln">recording</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> setTimeout</span><span class="pun">(</span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="typ">GetTalkpalAX</span><span class="pun">().</span><span class="typ">Record</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">},</span><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="typ">PendingTime</span><span class="pun">.</span><span class="pln">asrOldLocalStartRecord</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_utils</span><span class="pun">.</span><span class="pln">isNewAsr</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//speaking chanllege </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">template_id </span><span class="pun">===</span><span class="pln"> </span><span class="lit">27</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">beforeDelay </span><span class="pun">=</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">afterDelay </span><span class="pun">=</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="typ">GetTalkpalAX</span><span class="pun">().</span><span class="typ">SetContext</span><span class="pun">(</span><span class="str">''</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">beforeDelay </span><span class="pun">=</span><span class="pln"> </span><span class="lit">5</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">afterDelay </span><span class="pun">=</span><span class="pln"> </span><span class="lit">2</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">setOldLocalPreference</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">beforeDelay</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">afterDelay</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">level</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">length</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">asrBtnLoadingChange</span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">text</span><span class="pun">.</span><span class="pln">preparing</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="typ">GetTalkpalAX</span><span class="pun">().</span><span class="typ">Record</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_utils</span><span class="pun">.</span><span class="pln">isServerAsr</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//****** use stream to recording ****** </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">getRecordFlash</span><span class="pun">().</span><span class="pln">startStreamingRecording</span><span class="pun">(</span><span class="pln">window</span><span class="pun">[</span><span class="str">'asrServerAddress'</span><span class="pun">],</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">config</span><span class="pun">.</span><span class="pln">recordMaxLength</span><span class="pun">,</span><span class="pln"> autostopTime</span><span class="pun">,</span><span class="pln"> micGain</span><span class="pun">,</span><span class="pln"> silenceLevel</span><span class="pun">,</span><span class="pln"> </span><br><span class="pln"> window</span><span class="pun">[</span><span class="str">'_prons'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="typ">Base64</span><span class="pun">.</span><span class="pln">decode</span><span class="pun">(</span><span class="pln">window</span><span class="pun">[</span><span class="str">'_prons'</span><span class="pun">])</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="str">""</span><span class="pun">,</span><span class="pln"> </span><br><span class="pln"> </span><span class="str">"ET.NA.ASR.serverRecordCallback"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"ET.NA.ASR.errorCallback"</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">$j</span><span class="pun">(</span><span class="str">".act-asr_rec_popup_msg_expand"</span><span class="pun">).</span><span class="pln">length </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="pun">!</span><span class="pln">$j</span><span class="pun">(</span><span class="str">".act-asr_rec_popup_msg_expand"</span><span class="pun">).</span><span class="pln">hasClass</span><span class="pun">(</span><span class="str">'act-hide'</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="str">".act-asr_rec_popup_msg_expand"</span><span class="pun">).</span><span class="pln">addClass</span><span class="pun">(</span><span class="str">'act-hide'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">recorderTrace</span><span class="pun">(</span><span class="str">"end startRecording"</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=stopPlayback>
                <h3>stopPlayback:<i> ( lines: 16 characters: 425 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> _talkpal </span><span class="pun">=</span><span class="pln"> </span><span class="typ">GetTalkpalAX</span><span class="pun">(),</span><span class="pln"> _flash </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">getRecordFlash</span><span class="pun">(),</span><span class="pln"> _utils </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">utility</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">try</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_utils</span><span class="pun">.</span><span class="pln">isAsrDisabled</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="typ">_AsrBtnClicked</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_utils</span><span class="pun">.</span><span class="pln">isLocalAsr</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> _talkpal</span><span class="pun">.</span><span class="typ">StopPlay</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_flash </span><span class="pun">&amp;&amp;</span><span class="pln"> _flash</span><span class="pun">.</span><span class="pln">stopPlayback</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> _flash</span><span class="pun">.</span><span class="pln">stopPlayback</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="pln">e</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=stopRecording>
                <h3>stopRecording:<i> ( lines: 3 characters: 51 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">publish</span><span class="pun">(</span><span class="str">"stop_talkpal"</span><span class="pun">);</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=subscribe>
                <h3>subscribe:<i> ( lines: 10 characters: 263 arguments: 2 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">channel</span><span class="pun">,</span><span class="pln"> fn</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> channels </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">channels</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">channels</span><span class="pun">[</span><span class="pln">channel</span><span class="pun">])</span><span class="pln"> </span><br><span class="pln"> channels</span><span class="pun">[</span><span class="pln">channel</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[];</span><span class="pln"> </span><br><span class="pln"> channels</span><span class="pun">[</span><span class="pln">channel</span><span class="pun">].</span><span class="pln">push</span><span class="pun">({</span><span class="pln"> </span><br><span class="pln"> context</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">,</span><span class="pln"> </span><br><span class="pln"> callback</span><span class="pun">:</span><span class="pln"> fn </span><br><span class="pln"> </span><span class="pun">});</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=unsubscribe>
                <h3>unsubscribe:<i> ( lines: 8 characters: 190 arguments: 1 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">channel</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> channels </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">channels</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">channels</span><span class="pun">[</span><span class="pln">channel</span><span class="pun">])</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">delete</span><span class="pln"> channels</span><span class="pun">[</span><span class="pln">channel</span><span class="pun">];</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=utility>
                <h3>utility:<i> ( lines: undefined characters: undefined arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pun">[</span><span class="pln">object </span><span class="typ">Object</span><span class="pun">]</span></pre>
</li>            <li class='l' id=context>
                <h3>context:<i> ( lines: undefined characters: undefined arguments: 0 )</i></h3>
                <br>
                <pre>  </pre>
</li>            <li class='l' id=0>
                <h3>0:<i> ( lines: undefined characters: undefined arguments: 0 )</i></h3>
                <br>
                <pre>  </pre>
</li>            <li class='l' id=asrCallBackComplete>
                <h3>asrCallBackComplete:<i> ( lines: undefined characters: undefined arguments: 0 )</i></h3>
                <br>
                <pre>  </pre>
</li>            <li class='l' id=complete>
                <h3>complete:<i> ( lines: undefined characters: undefined arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pun">[</span><span class="pln">object </span><span class="typ">Object</span><span class="pun">]</span></pre>
</li>            <li class='l' id=interrupt>
                <h3>interrupt:<i> ( lines: undefined characters: undefined arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pun">[</span><span class="pln">object </span><span class="typ">Object</span><span class="pun">]</span></pre>
</li>            <li class='l' id=normal>
                <h3>normal:<i> ( lines: undefined characters: undefined arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pun">[</span><span class="pln">object </span><span class="typ">Object</span><span class="pun">]</span></pre>
</li>            <li class='l' id=playback>
                <h3>playback:<i> ( lines: undefined characters: undefined arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pun">[</span><span class="pln">object </span><span class="typ">Object</span><span class="pun">]</span></pre>
</li>            <li class='l' id=playbackComplete>
                <h3>playbackComplete:<i> ( lines: undefined characters: undefined arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pun">[</span><span class="pln">object </span><span class="typ">Object</span><span class="pun">]</span></pre>
</li>            <li class='l' id=preparing>
                <h3>preparing:<i> ( lines: undefined characters: undefined arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pun">[</span><span class="pln">object </span><span class="typ">Object</span><span class="pun">]</span></pre>
</li>            <li class='l' id=processing>
                <h3>processing:<i> ( lines: undefined characters: undefined arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pun">[</span><span class="pln">object </span><span class="typ">Object</span><span class="pun">]</span></pre>
</li>            <li class='l' id=recording>
                <h3>recording:<i> ( lines: undefined characters: undefined arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pun">[</span><span class="pln">object </span><span class="typ">Object</span><span class="pun">]</span></pre>
</li>            <li class='l' id=start>
                <h3>start:<i> ( lines: undefined characters: undefined arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pun">[</span><span class="pln">object </span><span class="typ">Object</span><span class="pun">]</span></pre>
</li>            <li class='l' id=stopPlayback>
                <h3>stopPlayback:<i> ( lines: undefined characters: undefined arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pun">[</span><span class="pln">object </span><span class="typ">Object</span><span class="pun">]</span></pre>
</li>            <li class='l' id=stop_talkpal>
                <h3>stop_talkpal:<i> ( lines: undefined characters: undefined arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pun">[</span><span class="pln">object </span><span class="typ">Object</span><span class="pun">]</span></pre>
</li>            <li class='l' id=talkpal_recordingComplete>
                <h3>talkpal_recordingComplete:<i> ( lines: undefined characters: undefined arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pun">[</span><span class="pln">object </span><span class="typ">Object</span><span class="pun">]</span></pre>
</li>            <li class='l' id=_changeStatus>
                <h3>_changeStatus:<i> ( lines: 4 characters: 132 arguments: 1 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">status</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">_log</span><span class="pun">(</span><span class="str">'publish:'</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> status</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">curStatus </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">_status</span><span class="pun">[</span><span class="pln">status</span><span class="pun">];</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=_log>
                <h3>_log:<i> ( lines: 9 characters: 208 arguments: 1 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">msg</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">window</span><span class="pun">[</span><span class="str">'debugASR'</span><span class="pun">])</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">window</span><span class="pun">.</span><span class="pln">console</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> window</span><span class="pun">.</span><span class="pln">console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">msg</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">window</span><span class="pun">.</span><span class="pln">status</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> window</span><span class="pun">.</span><span class="pln">status </span><span class="pun">=</span><span class="pln"> msg</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pun">}</span></pre>
</li>            <li class='l' id=asrCallBackComplete>
                <h3>asrCallBackComplete:<i> ( lines: 1 characters: 19 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pln">asrCallBackComplete</span></pre>
</li>            <li class='l' id=complete>
                <h3>complete:<i> ( lines: 1 characters: 8 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pln">complete</span></pre>
</li>            <li class='l' id=interrupt>
                <h3>interrupt:<i> ( lines: 1 characters: 9 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pln">interrupt</span></pre>
</li>            <li class='l' id=normal>
                <h3>normal:<i> ( lines: 1 characters: 6 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pln">normal</span></pre>
</li>            <li class='l' id=playback>
                <h3>playback:<i> ( lines: 1 characters: 8 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pln">playback</span></pre>
</li>            <li class='l' id=playbackComplete>
                <h3>playbackComplete:<i> ( lines: 1 characters: 16 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pln">playbackComplete</span></pre>
</li>            <li class='l' id=prepare>
                <h3>prepare:<i> ( lines: 1 characters: 9 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pln">preparing</span></pre>
</li>            <li class='l' id=process>
                <h3>process:<i> ( lines: 1 characters: 10 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pln">processing</span></pre>
</li>            <li class='l' id=recording>
                <h3>recording:<i> ( lines: 1 characters: 9 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pln">recording</span></pre>
</li>            <li class='l' id=start>
                <h3>start:<i> ( lines: 1 characters: 5 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pln">start</span></pre>
</li>            <li class='l' id=stopPlayback>
                <h3>stopPlayback:<i> ( lines: 1 characters: 12 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pln">stopPlayback</span></pre>
</li>            <li class='l' id=stop_talkpal>
                <h3>stop_talkpal:<i> ( lines: 1 characters: 12 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pln">stop_talkpal</span></pre>
</li>            <li class='l' id=talkpal_recordingComplete>
                <h3>talkpal_recordingComplete:<i> ( lines: 1 characters: 25 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="pln">talkpal_recordingComplete</span></pre>
</li>            <li class='l' id=_status>
                <h3>_status:<i> ( lines: undefined characters: undefined arguments: 0 )</i></h3>
                <br>
                <pre>  </pre>
</li>            <li class='l' id=asrCallBackComplete>
                <h3>asrCallBackComplete:<i> ( lines: 10 characters: 409 arguments: 2 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">callback</span><span class="pun">,</span><span class="pln"> xml</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">manager</span><span class="pun">.</span><span class="pln">execute</span><span class="pun">(</span><span class="str">'_changeStatus'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'asrCallBackComplete'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">window</span><span class="pun">[</span><span class="str">'asr_token'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">!==</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">_token</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Player</span><span class="pun">.</span><span class="pln">isRecording </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">manager</span><span class="pun">.</span><span class="pln">execute</span><span class="pun">(</span><span class="str">'_changeStatus'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'complete'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">callback</span><span class="pun">)</span><span class="pln"> callback</span><span class="pun">(</span><span class="pln">xml</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=complete>
                <h3>complete:<i> ( lines: 8 characters: 344 arguments: 1 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">args</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">window</span><span class="pun">[</span><span class="str">'asr_token'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">!==</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">_token</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">manager</span><span class="pun">.</span><span class="pln">execute</span><span class="pun">(</span><span class="str">'_changeStatus'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'complete'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> args</span><span class="pun">[</span><span class="pln">args</span><span class="pun">.</span><span class="pln">length </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">]</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="str">'local'</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">localRecordingComplete</span><span class="pun">(</span><span class="pln">args</span><span class="pun">[</span><span class="lit">2</span><span class="pun">])</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">serverRecordingComplete</span><span class="pun">(</span><span class="pln">args</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=init>
                <h3>init:<i> ( lines: 10 characters: 424 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">_log</span><span class="pun">(</span><span class="str">'init'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="pln">mediator</span><span class="pun">.</span><span class="pln">installTo</span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> window</span><span class="pun">[</span><span class="str">'asr_token'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">_token </span><span class="pun">=</span><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="pln">guid</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">var</span><span class="pln"> i in </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">_status</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">_status</span><span class="pun">.</span><span class="pln">hasOwnProperty</span><span class="pun">(</span><span class="pln">i</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">subscribe</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">_status</span><span class="pun">[</span><span class="pln">i</span><span class="pun">],</span><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">manager</span><span class="pun">.</span><span class="pln">commands</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=interrupt>
                <h3>interrupt:<i> ( lines: 7 characters: 256 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">manager</span><span class="pun">.</span><span class="pln">execute</span><span class="pun">(</span><span class="str">'_changeStatus'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'interrupt'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">_token </span><span class="pun">=</span><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="pln">guid</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">utility</span><span class="pun">.</span><span class="pln">isServerAsr</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> clearInterval</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">asrInterval</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=normal>
                <h3>normal:<i> ( lines: 3 characters: 86 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">manager</span><span class="pun">.</span><span class="pln">execute</span><span class="pun">(</span><span class="str">'_changeStatus'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'normal'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=playback>
                <h3>playback:<i> ( lines: 3 characters: 88 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">manager</span><span class="pun">.</span><span class="pln">execute</span><span class="pun">(</span><span class="str">'_changeStatus'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'playback'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=playbackComplete>
                <h3>playbackComplete:<i> ( lines: 3 characters: 96 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">manager</span><span class="pun">.</span><span class="pln">execute</span><span class="pun">(</span><span class="str">'_changeStatus'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'playbackComplete'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=prepare>
                <h3>prepare:<i> ( lines: 3 characters: 87 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">manager</span><span class="pun">.</span><span class="pln">execute</span><span class="pun">(</span><span class="str">'_changeStatus'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'prepare'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=process>
                <h3>process:<i> ( lines: 3 characters: 87 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">manager</span><span class="pun">.</span><span class="pln">execute</span><span class="pun">(</span><span class="str">'_changeStatus'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'process'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=recording>
                <h3>recording:<i> ( lines: 3 characters: 96 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//ET.NA.ASR.manager.execute('_changeStatus', 'recording'); </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=start>
                <h3>start:<i> ( lines: 4 characters: 176 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">manager</span><span class="pun">.</span><span class="pln">execute</span><span class="pun">(</span><span class="str">'_changeStatus'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'start'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> window</span><span class="pun">[</span><span class="str">'asr_token'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">_token </span><span class="pun">?</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">_token </span><span class="pun">:</span><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="pln">guid</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=stopPlayback>
                <h3>stopPlayback:<i> ( lines: 3 characters: 92 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">manager</span><span class="pun">.</span><span class="pln">execute</span><span class="pun">(</span><span class="str">'_changeStatus'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'stopPlayback'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=stop_talkpal>
                <h3>stop_talkpal:<i> ( lines: 22 characters: 948 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">manager</span><span class="pun">.</span><span class="pln">execute</span><span class="pun">(</span><span class="str">'_changeStatus'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'stop_talkpal'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">window</span><span class="pun">[</span><span class="str">'asr_token'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">!==</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">_token</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> _utils </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">utility</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_utils</span><span class="pun">.</span><span class="pln">isAsrDisabled</span><span class="pun">()</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> </span><span class="pun">!</span><span class="pln">ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Player</span><span class="pun">.</span><span class="pln">isRecording</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="typ">_AsrBtnClicked</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//stop recording </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_utils</span><span class="pun">.</span><span class="pln">isOldAsr</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="typ">GetTalkpalAX</span><span class="pun">().</span><span class="typ">StopRecord</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_utils</span><span class="pun">.</span><span class="pln">isNewAsr</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">asrBtnLoadingChange</span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">text</span><span class="pun">.</span><span class="pln">asr_processing</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="typ">GetTalkpalAX</span><span class="pun">().</span><span class="typ">StopRecord</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_utils</span><span class="pun">.</span><span class="pln">isServerAsr</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">getRecordFlash</span><span class="pun">().</span><span class="pln">stopRecording</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> clearInterval</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">asrInterval</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=talkpal_recordingComplete>
                <h3>talkpal_recordingComplete:<i> ( lines: 9 characters: 331 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">manager</span><span class="pun">.</span><span class="pln">execute</span><span class="pun">(</span><span class="str">'_changeStatus'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'talkpal_recordingComplete'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">window</span><span class="pun">[</span><span class="str">'asr_token'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">!==</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">_token</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Player</span><span class="pun">.</span><span class="pln">isRecording </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">recordingComplete</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=commands>
                <h3>commands:<i> ( lines: undefined characters: undefined arguments: 0 )</i></h3>
                <br>
                <pre>  </pre>
</li>            <li class='l' id=execute>
                <h3>execute:<i> ( lines: 7 characters: 177 arguments: 2 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">command</span><span class="pun">,</span><span class="pln"> args</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">try</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">commands</span><span class="pun">[</span><span class="pln">command</span><span class="pun">](</span><span class="pln">args</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="pln">e</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">commands</span><span class="pun">.</span><span class="pln">_log</span><span class="pun">(</span><span class="pln">JSON</span><span class="pun">.</span><span class="pln">stringify</span><span class="pun">(</span><span class="pln">e</span><span class="pun">));</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=_prepareMicPopup>
                <h3>_prepareMicPopup:<i> ( lines: 21 characters: 1155 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> micSetting </span><span class="pun">=</span><span class="pln"> $j</span><span class="pun">(</span><span class="str">"#micsettings"</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> micSetting</span><span class="pun">.</span><span class="pln">addClass</span><span class="pun">(</span><span class="str">"act-hidden"</span><span class="pun">).</span><span class="pln">removeClass</span><span class="pun">(</span><span class="str">"micsettings_hide"</span><span class="pun">).</span><span class="pln">addClass</span><span class="pun">(</span><span class="str">"micsettings_show"</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> _isIE9 </span><span class="pun">=</span><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">config</span><span class="pun">.</span><span class="pln">isIE9</span><span class="pun">,</span><span class="pln"> </span><br><span class="pln"> _client_width </span><span class="pun">=</span><span class="pln"> micSetting</span><span class="pun">.</span><span class="pln">offsetParent</span><span class="pun">().</span><span class="pln">outerWidth</span><span class="pun">(</span><span class="kwd">true</span><span class="pun">),</span><span class="pln"> </span><br><span class="pln"> _client_height </span><span class="pun">=</span><span class="pln"> micSetting</span><span class="pun">.</span><span class="pln">offsetParent</span><span class="pun">().</span><span class="pln">outerHeight</span><span class="pun">(</span><span class="kwd">true</span><span class="pun">),</span><span class="pln"> </span><br><span class="pln"> _height </span><span class="pun">=</span><span class="pln"> _isIE9 </span><span class="pun">?</span><span class="pln"> micSetting</span><span class="pun">.</span><span class="pln">height</span><span class="pun">()</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> micSetting</span><span class="pun">.</span><span class="pln">outerHeight</span><span class="pun">(</span><span class="kwd">true</span><span class="pun">),</span><span class="pln"> </span><br><span class="pln"> _width </span><span class="pun">=</span><span class="pln"> _isIE9 </span><span class="pun">?</span><span class="pln"> micSetting</span><span class="pun">.</span><span class="pln">width</span><span class="pun">()</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> micSetting</span><span class="pun">.</span><span class="pln">outerWidth</span><span class="pun">(</span><span class="kwd">true</span><span class="pun">),</span><span class="pln"> </span><br><span class="pln"> _top </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_client_height </span><span class="pun">-</span><span class="pln"> _height</span><span class="pun">)</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> </span><span class="lit">2</span><span class="pun">,</span><span class="pln"> </span><br><span class="pln"> _left </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_client_width </span><span class="pun">-</span><span class="pln"> _width</span><span class="pun">)</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> </span><span class="lit">2</span><span class="pun">,</span><span class="pln"> </span><br><span class="pln"> micSettingMask </span><span class="pun">=</span><span class="pln"> $j</span><span class="pun">(</span><span class="str">".micsettings_mask"</span><span class="pun">),</span><span class="pln"> </span><br><span class="pln"> _shadowL </span><span class="pun">=</span><span class="pln"> </span><span class="pun">-</span><span class="pln">micSettingMask</span><span class="pun">.</span><span class="pln">offsetParent</span><span class="pun">().</span><span class="pln">offset</span><span class="pun">().</span><span class="pln">left</span><span class="pun">,</span><span class="pln"> </span><br><span class="pln"> _shadowT </span><span class="pun">=</span><span class="pln"> </span><span class="pun">-</span><span class="pln">micSettingMask</span><span class="pun">.</span><span class="pln">offsetParent</span><span class="pun">().</span><span class="pln">offset</span><span class="pun">().</span><span class="pln">top</span><span class="pun">,</span><span class="pln"> </span><br><span class="pln"> _maskH </span><span class="pun">=</span><span class="pln"> $j</span><span class="pun">(</span><span class="str">"body"</span><span class="pun">).</span><span class="pln">outerHeight</span><span class="pun">(</span><span class="kwd">true</span><span class="pun">),</span><span class="pln"> </span><br><span class="pln"> _maskW </span><span class="pun">=</span><span class="pln"> $j</span><span class="pun">(</span><span class="str">"body"</span><span class="pun">).</span><span class="pln">outerWidth</span><span class="pun">(</span><span class="kwd">true</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><br><span class="pln"> micSettingMask</span><span class="pun">.</span><span class="pln">css</span><span class="pun">({</span><span class="pln"> </span><span class="str">"height"</span><span class="pun">:</span><span class="pln"> _maskH </span><span class="pun">+</span><span class="pln"> </span><span class="str">"px"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"width"</span><span class="pun">:</span><span class="pln"> _maskW </span><span class="pun">+</span><span class="pln"> </span><span class="str">"px"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"top"</span><span class="pun">:</span><span class="pln"> _shadowT </span><span class="pun">+</span><span class="pln"> </span><span class="str">"px"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"left"</span><span class="pun">:</span><span class="pln"> _shadowL </span><span class="pun">+</span><span class="pln"> </span><span class="str">"px"</span><span class="pln"> </span><span class="pun">});</span><span class="pln"> </span><br><span class="pln"> micSetting</span><span class="pun">.</span><span class="pln">css</span><span class="pun">({</span><span class="pln"> </span><span class="str">"top"</span><span class="pun">:</span><span class="pln"> _top </span><span class="pun">+</span><span class="pln"> </span><span class="str">"px"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"left"</span><span class="pun">:</span><span class="pln"> _left </span><span class="pun">+</span><span class="pln"> </span><span class="str">"px"</span><span class="pln"> </span><span class="pun">});</span><span class="pln"> </span><br><span class="pln"> micSetting</span><span class="pun">.</span><span class="pln">removeClass</span><span class="pun">(</span><span class="str">"act-hidden"</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=asrDisabled>
                <h3>asrDisabled:<i> ( lines: 16 characters: 810 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">// ASR is enabled. </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">utility</span><span class="pun">.</span><span class="pln">asrOpenType</span><span class="pun">()</span><span class="pln"> </span><span class="pun">===</span><span class="pln"> </span><span class="str">'off'</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> </span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">utility</span><span class="pun">.</span><span class="pln">isAsrInstalled</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">utility</span><span class="pun">.</span><span class="pln">isAsrDisabled</span><span class="pun">())</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> </span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">utility</span><span class="pun">.</span><span class="pln">isMacSafari</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">utility</span><span class="pun">.</span><span class="pln">isAsrDisabled</span><span class="pun">()))</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">recorderTrace</span><span class="pun">(</span><span class="str">'asr disabled popup.'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> popup </span><span class="pun">=</span><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Popup</span><span class="pun">,</span><span class="pln"> </span><br><span class="pln"> constText </span><span class="pun">=</span><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">text</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><br><span class="pln"> popup</span><span class="pun">.</span><span class="pln">onYesClick </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Popup</span><span class="pun">.</span><span class="pln">close</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> </span><span class="typ">_Id</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> jsonData</span><span class="pun">.</span><span class="typ">Activity</span><span class="pun">.</span><span class="typ">Id</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> submitActivityScore</span><span class="pun">(</span><span class="typ">_Id</span><span class="pun">,</span><span class="pln"> </span><span class="lit">100</span><span class="pun">,</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> skipActivity</span><span class="pun">(</span><span class="typ">_Id</span><span class="pun">);</span><span class="pln"> </span><span class="pun">});</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">};</span><span class="pln"> </span><br><span class="pln"> popup</span><span class="pun">.</span><span class="pln">open</span><span class="pun">(</span><span class="pln">constText</span><span class="pun">.</span><span class="pln">asrDisabledContent</span><span class="pun">,</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> constText</span><span class="pun">.</span><span class="pln">next</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="str">"#act-popup_btnno"</span><span class="pun">).</span><span class="pln">hide</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=install>
                <h3>install:<i> ( lines: 51 characters: 2136 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">// no intalled client ASR &amp; local ASR is enabled. </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">((</span><span class="pln">ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">utility</span><span class="pun">.</span><span class="pln">asrOpenType</span><span class="pun">()</span><span class="pln"> </span><span class="pun">!=</span><span class="pln"> </span><span class="str">'off'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">utility</span><span class="pun">.</span><span class="pln">isAsrInstalled</span><span class="pun">()))</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">recorderTrace</span><span class="pun">(</span><span class="str">'intall popup'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> popup </span><span class="pun">=</span><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Popup</span><span class="pun">,</span><span class="pln"> </span><br><span class="pln"> constText </span><span class="pun">=</span><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">text</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><br><span class="pln"> popup</span><span class="pun">.</span><span class="pln">onYesClick </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> window</span><span class="pun">.</span><span class="pln">location</span><span class="pun">.</span><span class="pln">href </span><span class="pun">=</span><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">text</span><span class="pun">.</span><span class="pln">asrdownloadurl</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">};</span><span class="pln"> </span><br><span class="pln"> </span><br><span class="pln"> popup</span><span class="pun">.</span><span class="pln">onNoClick </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Popup</span><span class="pun">.</span><span class="pln">close</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> _id </span><span class="pun">=</span><span class="pln"> jsonData</span><span class="pun">.</span><span class="typ">Activity</span><span class="pun">.</span><span class="typ">Id</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> skipActivity</span><span class="pun">(</span><span class="pln">_id</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">};</span><span class="pln"> </span><br><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> isSpeakChallenge </span><span class="pun">=</span><span class="pln"> template_id </span><span class="pun">===</span><span class="pln"> </span><span class="lit">27</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">isSpeakChallenge</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> popup</span><span class="pun">.</span><span class="pln">open</span><span class="pun">(</span><span class="pln">constText</span><span class="pun">.</span><span class="pln">recordContent</span><span class="pun">,</span><span class="pln"> constText</span><span class="pun">.</span><span class="pln">skip</span><span class="pun">,</span><span class="pln"> constText</span><span class="pun">.</span><span class="pln">installNow</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">_checkTalkpal</span><span class="pun">.</span><span class="pln">_executed</span><span class="pun">)</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><br><span class="pln"> popup</span><span class="pun">.</span><span class="pln">open</span><span class="pun">(</span><span class="pln">constText</span><span class="pun">.</span><span class="pln">recordContent</span><span class="pun">,</span><span class="pln"> constText</span><span class="pun">.</span><span class="pln">skip</span><span class="pun">,</span><span class="pln"> constText</span><span class="pun">.</span><span class="pln">installNow</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> popBtnYes </span><span class="pun">=</span><span class="pln"> $j</span><span class="pun">(</span><span class="str">"#act-popup_btnyes"</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> popBtnYes</span><span class="pun">.</span><span class="pln">attr</span><span class="pun">({</span><span class="pln"> </span><span class="str">'href'</span><span class="pun">:</span><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">text</span><span class="pun">.</span><span class="pln">asrdownloadurl</span><span class="pun">,</span><span class="pln"> </span><span class="str">'target'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'_blank'</span><span class="pln"> </span><span class="pun">});</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> popBtnClose </span><span class="pun">=</span><span class="pln"> $j</span><span class="pun">(</span><span class="str">"#act-popup_close"</span><span class="pun">)</span><span class="pln"> </span><br><span class="pln"> popBtnClose</span><span class="pun">.</span><span class="pln">show</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> popBtnClose</span><span class="pun">.</span><span class="pln">unbind</span><span class="pun">(</span><span class="str">'click'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> popBtnClose</span><span class="pun">.</span><span class="pln">bind</span><span class="pun">(</span><span class="str">'click'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">hideASRNotification</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Popup</span><span class="pun">.</span><span class="pln">close</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">_checkTalkpal</span><span class="pun">.</span><span class="pln">_executed </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">});</span><span class="pln"> </span><br><span class="pln"> popBtnYes</span><span class="pun">.</span><span class="pln">unbind</span><span class="pun">(</span><span class="str">'click'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> popBtnYes</span><span class="pun">.</span><span class="pln">bind</span><span class="pun">(</span><span class="str">'click'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">hideASRNotification</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//$j("#act-popup_close").click(); </span><br><span class="pln"> </span><span class="com">//ET.School.UI.Common.Popup.onYesClick(); </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">});</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">});</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><br><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=micSetting>
                <h3>micSetting:<i> ( lines: 9 characters: 405 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">// to add some conditions. </span><br><span class="pln"> </span><span class="com">// server side ASR &amp; server side avilable &amp; first use asr activity </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">utility</span><span class="pun">.</span><span class="pln">isAsrInstalled</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">utility</span><span class="pun">.</span><span class="pln">isServerAsr</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">recorderTrace</span><span class="pun">(</span><span class="str">'microphone setting popup.'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">_prepareMicPopup</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="str">"#micsettings"</span><span class="pun">).</span><span class="pln">addClass</span><span class="pun">(</span><span class="str">'micsettings_show_setting2'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=newVersionSuggest>
                <h3>newVersionSuggest:<i> ( lines: 34 characters: 1592 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">// intalled ASR &amp; has old version ASR &amp; ASR is enabled &amp; on windows platform </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">utility</span><span class="pun">.</span><span class="pln">isWindows</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">utility</span><span class="pun">.</span><span class="pln">isAsrInstalled</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">utility</span><span class="pun">.</span><span class="pln">isOldAsr</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">_checkTalkpal</span><span class="pun">.</span><span class="pln">_executed</span><span class="pun">)</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">recorderTrace</span><span class="pun">(</span><span class="str">'new version suggest popup.'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> popup </span><span class="pun">=</span><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Popup</span><span class="pun">,</span><span class="pln"> </span><br><span class="pln"> constText </span><span class="pun">=</span><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">text</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><br><span class="pln"> popup</span><span class="pun">.</span><span class="pln">open</span><span class="pun">(</span><span class="pln">constText</span><span class="pun">.</span><span class="pln">asr_download_tooltip</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> constText</span><span class="pun">.</span><span class="pln">asr_download_btn_txt</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">/*ET.NA.ASR._checkTalkpal._executed = true;*/</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> popBtnYes </span><span class="pun">=</span><span class="pln"> $j</span><span class="pun">(</span><span class="str">"#act-popup_btnyes"</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> popBtnYes</span><span class="pun">.</span><span class="pln">attr</span><span class="pun">({</span><span class="pln"> </span><span class="str">'href'</span><span class="pun">:</span><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">text</span><span class="pun">.</span><span class="pln">asr_latest_version_url</span><span class="pun">,</span><span class="pln"> </span><span class="str">'target'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'_blank'</span><span class="pln"> </span><span class="pun">});</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> popBtnClose </span><span class="pun">=</span><span class="pln"> $j</span><span class="pun">(</span><span class="str">"#act-popup_close"</span><span class="pun">)</span><span class="pln"> </span><br><span class="pln"> popBtnClose</span><span class="pun">.</span><span class="pln">show</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> popBtnClose</span><span class="pun">.</span><span class="pln">unbind</span><span class="pun">(</span><span class="str">'click'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> popBtnClose</span><span class="pun">.</span><span class="pln">bind</span><span class="pun">(</span><span class="str">'click'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">hideASRNotification</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Popup</span><span class="pun">.</span><span class="pln">close</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">_checkTalkpal</span><span class="pun">.</span><span class="pln">_executed </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">});</span><span class="pln"> </span><br><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="str">"#act-popup_btnno"</span><span class="pun">).</span><span class="pln">remove</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> popBtnYes</span><span class="pun">.</span><span class="pln">unbind</span><span class="pun">(</span><span class="str">'click'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> popBtnYes</span><span class="pun">.</span><span class="pln">bind</span><span class="pun">(</span><span class="str">'click'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">hideASRNotification</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//ET.School.UI.Common.Popup.onYesClick(); </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">});</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">});</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=noPlugin>
                <h3>noPlugin:<i> ( lines: 9 characters: 370 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">// to add some conditions. </span><br><span class="pln"> </span><span class="com">// only after flash callback. </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">utility</span><span class="pun">.</span><span class="pln">isAsrInstalled</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">utility</span><span class="pun">.</span><span class="pln">isServerAsr</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">recorderTrace</span><span class="pun">(</span><span class="str">'no microphone plugin popup.'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">_prepareMicPopup</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="str">"#micsettings"</span><span class="pun">).</span><span class="pln">addClass</span><span class="pun">(</span><span class="str">'micsettings_show_setting1'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=serverUnavilable>
                <h3>serverUnavilable:<i> ( lines: 28 characters: 1421 arguments: 1 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">isSpeakingChallenge</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">// is serverside ASR &amp; server side is unavilable. </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">utility</span><span class="pun">.</span><span class="pln">isAsrInstalled</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">utility</span><span class="pun">.</span><span class="pln">isServerAsr</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="pun">!</span><span class="pln">ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">utility</span><span class="pun">.</span><span class="pln">isServerAsrAvaliable</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> popup </span><span class="pun">=</span><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Popup</span><span class="pun">,</span><span class="pln"> </span><br><span class="pln"> constText </span><span class="pun">=</span><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">text</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">isSpeakingChallenge</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">recorderTrace</span><span class="pun">(</span><span class="str">'speaking challenge server unavilable popup.'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> popup</span><span class="pun">.</span><span class="pln">onYesClick </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Popup</span><span class="pun">.</span><span class="pln">close</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> </span><span class="typ">_Id</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> jsonData</span><span class="pun">.</span><span class="typ">Activity</span><span class="pun">.</span><span class="typ">Id</span><span class="pln"> </span><br><span class="pln"> skipActivity</span><span class="pun">(</span><span class="typ">_Id</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">};</span><span class="pln"> </span><br><span class="pln"> popup</span><span class="pun">.</span><span class="pln">open</span><span class="pun">(</span><span class="pln">constText</span><span class="pun">.</span><span class="pln">serverDoneContent</span><span class="pun">,</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> constText</span><span class="pun">.</span><span class="pln">skip</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="str">"#act-popup_btnno"</span><span class="pun">).</span><span class="pln">hide</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">recorderTrace</span><span class="pun">(</span><span class="str">'none speaking challenge server unavilable popup.'</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> ET</span><span class="pun">.</span><span class="pln">NA</span><span class="pun">.</span><span class="pln">ASR</span><span class="pun">.</span><span class="pln">showASRPopMessage</span><span class="pun">(</span><span class="kwd">false</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> content </span><span class="pun">=</span><span class="pln"> constText</span><span class="pun">.</span><span class="pln">asr_failed</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> popup</span><span class="pun">.</span><span class="pln">onYesClick </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Popup</span><span class="pun">.</span><span class="pln">close</span><span class="pun">();</span><span class="pln"> window</span><span class="pun">.</span><span class="pln">location</span><span class="pun">.</span><span class="pln">reload</span><span class="pun">();</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> popup</span><span class="pun">.</span><span class="pln">open</span><span class="pun">(</span><span class="pln">content</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="str">"#act-popup_btnno"</span><span class="pun">).</span><span class="pln">hide</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="com">//hide asr indicator </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="str">".act-asr_indicator_activity"</span><span class="pun">).</span><span class="pln">width</span><span class="pun">(</span><span class="lit">0</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> $j</span><span class="pun">(</span><span class="str">".act-asr_indicator"</span><span class="pun">).</span><span class="pln">addClass</span><span class="pun">(</span><span class="str">"act-hide"</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=_IE6>
                <h3>_IE6:<i> ( lines: 1 characters: 4 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="lit">0xC7</span></pre>
</li>            <li class='l' id=_IE7_edge>
                <h3>_IE7_edge:<i> ( lines: 1 characters: 4 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="lit">0xCF</span></pre>
</li>            <li class='l' id=_NA>
                <h3>_NA:<i> ( lines: 1 characters: 4 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="lit">0xBF</span></pre>
</li>            <li class='l' id=_chrome>
                <h3>_chrome:<i> ( lines: 1 characters: 4 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="lit">0xD7</span></pre>
</li>            <li class='l' id=_ff>
                <h3>_ff:<i> ( lines: 1 characters: 4 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="lit">0xDF</span></pre>
</li>            <li class='l' id=_getTalkPalversion>
                <h3>_getTalkPalversion:<i> ( lines: 9 characters: 234 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> talkpalAXVersion</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">try</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> talkpalAXVersion </span><span class="pun">=</span><span class="pln"> </span><span class="typ">GetTalkpalAX</span><span class="pun">().</span><span class="typ">GetVersion</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="pln">e</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> talkpalAXVersion </span><span class="pun">=</span><span class="pln"> </span><span class="str">"0.0"</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> talkpalAXVersion</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=_isLocalAsrInstalled>
                <h3>_isLocalAsrInstalled:<i> ( lines: 21 characters: 596 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(){</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> isInstalled </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">typeof</span><span class="pln"> window</span><span class="pun">.</span><span class="typ">ActiveXObject</span><span class="pln"> </span><span class="pun">!=</span><span class="pln"> </span><span class="str">'undefined'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="com">//IE </span><br><span class="pln"> </span><span class="kwd">try</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">ActiveXObject</span><span class="pun">(</span><span class="str">"TalkpalAX.TPComponents_EF"</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> isInstalled </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="pln">e</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> isInstalled </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="com">//non-IE </span><br><span class="pln"> jQuery</span><span class="pun">.</span><span class="pln">each</span><span class="pun">(</span><span class="pln">navigator</span><span class="pun">.</span><span class="pln">plugins</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">name</span><span class="pun">.</span><span class="pln">match</span><span class="pun">(</span><span class="str">/Talkpal/</span><span class="pln">gim</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> isInstalled </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">});</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><br><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> isInstalled</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=_mac>
                <h3>_mac:<i> ( lines: 1 characters: 4 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="lit">0x7F</span></pre>
</li>            <li class='l' id=_mode>
                <h3>_mode:<i> ( lines: 1 characters: 4 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="lit">0xFF</span></pre>
</li>            <li class='l' id=_sfa>
                <h3>_sfa:<i> ( lines: 1 characters: 4 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="lit">0xE7</span></pre>
</li>            <li class='l' id=_ua>
                <h3>_ua:<i> ( lines: 1 characters: 97 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="typ">Mozilla</span><span class="pun">/</span><span class="lit">5.0</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Windows</span><span class="pln"> NT </span><span class="lit">6.1</span><span class="pun">)</span><span class="pln"> </span><span class="typ">AppleWebKit</span><span class="pun">/</span><span class="lit">535.8</span><span class="pln"> </span><span class="pun">(</span><span class="pln">KHTML</span><span class="pun">,</span><span class="pln"> like </span><span class="typ">Gecko</span><span class="pun">)</span><span class="pln"> </span><span class="typ">Chrome</span><span class="pun">/</span><span class="lit">17.0</span><span class="pun">.</span><span class="lit">942.0</span><span class="pln"> </span><span class="typ">Safari</span><span class="pun">/</span><span class="lit">535.8</span></pre>
</li>            <li class='l' id=_win>
                <h3>_win:<i> ( lines: 1 characters: 4 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="lit">0x3F</span></pre>
</li>            <li class='l' id=asrOpenType>
                <h3>asrOpenType:<i> ( lines: 3 characters: 57 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">(){</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> window</span><span class="pun">[</span><span class="str">"AsrOpenType"</span><span class="pun">]</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=isAsrDisabled>
                <h3>isAsrDisabled:<i> ( lines: 5 characters: 323 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> asrOpenType </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">asrOpenType</span><span class="pun">(),</span><span class="pln"> </span><br><span class="pln"> isMacServerAsrDisabled </span><span class="pun">=</span><span class="pln"> window</span><span class="pun">[</span><span class="str">"isMacServerAsrEnabled"</span><span class="pun">]</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> asrOpenType </span><span class="pun">===</span><span class="pln"> </span><span class="str">'off'</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> </span><span class="pun">(</span><span class="pln">asrOpenType </span><span class="pun">===</span><span class="pln"> </span><span class="str">'local'</span><span class="pun">&amp;&amp;!</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">_isLocalAsrInstalled</span><span class="pun">())</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">isMacSafari</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> isMacServerAsrDisabled</span><span class="pun">)</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> </span><span class="pun">(!</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">isServerAsrAvaliable</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=isAsrEnabled>
                <h3>isAsrEnabled:<i> ( lines: 3 characters: 59 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">!</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">isAsrDisabled</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=isAsrInstalled>
                <h3>isAsrInstalled:<i> ( lines: 3 characters: 94 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">isNewAsr</span><span class="pun">()</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">isOldAsr</span><span class="pun">()</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">isServerAsr</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=isChrome>
                <h3>isChrome:<i> ( lines: 3 characters: 62 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="str">/chrome/</span><span class="pln">i</span><span class="pun">.</span><span class="pln">test</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">_ua</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=isFirefox>
                <h3>isFirefox:<i> ( lines: 3 characters: 63 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="str">/firefox/</span><span class="pln">i</span><span class="pun">.</span><span class="pln">test</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">_ua</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=isIE>
                <h3>isIE:<i> ( lines: 3 characters: 134 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">_ua</span><span class="pun">.</span><span class="pln">indexOf</span><span class="pun">(</span><span class="str">"compatible"</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">_ua</span><span class="pun">.</span><span class="pln">indexOf</span><span class="pun">(</span><span class="str">"MSIE"</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="pun">!</span><span class="str">/opera/</span><span class="pln">i</span><span class="pun">.</span><span class="pln">test</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">_ua</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=isIE6>
                <h3>isIE6:<i> ( lines: 3 characters: 61 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="str">/ie 6/</span><span class="pln">ig</span><span class="pun">.</span><span class="pln">test</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">_ua</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=isIE7>
                <h3>isIE7:<i> ( lines: 3 characters: 60 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="str">/ie 7/</span><span class="pln">i</span><span class="pun">.</span><span class="pln">test</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">_ua</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=isIE8>
                <h3>isIE8:<i> ( lines: 3 characters: 60 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="str">/ie 8/</span><span class="pln">i</span><span class="pun">.</span><span class="pln">test</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">_ua</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=isIE9>
                <h3>isIE9:<i> ( lines: 3 characters: 60 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="str">/ie 9/</span><span class="pln">i</span><span class="pun">.</span><span class="pln">test</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">_ua</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=isIPad>
                <h3>isIPad:<i> ( lines: 3 characters: 60 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="str">/ipad/</span><span class="pln">i</span><span class="pun">.</span><span class="pln">test</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">_ua</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=isLocalAsr>
                <h3>isLocalAsr:<i> ( lines: 3 characters: 72 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">isOldAsr</span><span class="pun">()</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">isNewAsr</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=isMac>
                <h3>isMac:<i> ( lines: 3 characters: 90 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> navigator</span><span class="pun">.</span><span class="pln">platform</span><span class="pun">.</span><span class="pln">toLowerCase</span><span class="pun">().</span><span class="pln">indexOf</span><span class="pun">(</span><span class="str">'mac'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&gt;=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=isMacSafari>
                <h3>isMacSafari:<i> ( lines: 3 characters: 69 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">isMac</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">isSafari</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=isNA>
                <h3>isNA:<i> ( lines: 3 characters: 76 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">(!</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">isMac</span><span class="pun">())</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="pun">(!</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">isWindows</span><span class="pun">());</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=isNewAsr>
                <h3>isNewAsr:<i> ( lines: 4 characters: 225 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> asrOpenType </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">asrOpenType</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">_isLocalAsrInstalled</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> asrOpenType </span><span class="pun">===</span><span class="pln"> </span><span class="str">"local"</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">_getTalkPalversion</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&gt;=</span><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">config</span><span class="pun">.</span><span class="pln">lastTalkpalAXVersion</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=isOldAsr>
                <h3>isOldAsr:<i> ( lines: 4 characters: 243 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> asrOpenType </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">asrOpenType</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">_isLocalAsrInstalled</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> asrOpenType </span><span class="pun">===</span><span class="pln"> </span><span class="str">"local"</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">_getTalkPalversion</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln"> ET</span><span class="pun">.</span><span class="typ">School</span><span class="pun">.</span><span class="pln">UI</span><span class="pun">.</span><span class="typ">Common</span><span class="pun">.</span><span class="typ">Const</span><span class="pun">.</span><span class="pln">config</span><span class="pun">.</span><span class="pln">lastTalkpalAXVersion</span><span class="pun">)</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">isIPad</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=isOpera>
                <h3>isOpera:<i> ( lines: 3 characters: 61 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="str">/opera/</span><span class="pln">i</span><span class="pun">.</span><span class="pln">test</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">_ua</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=isSafari>
                <h3>isSafari:<i> ( lines: 3 characters: 103 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">_ua</span><span class="pun">.</span><span class="pln">indexOf</span><span class="pun">(</span><span class="str">"Safari"</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">_ua</span><span class="pun">.</span><span class="pln">indexOf</span><span class="pun">(</span><span class="str">"Chrome"</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=isServerAsr>
                <h3>isServerAsr:<i> ( lines: 5 characters: 237 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> asrOpenType </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">asrOpenType</span><span class="pun">();</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">var</span><span class="pln"> isMacServerAsrEnabled </span><span class="pun">=</span><span class="pln"> window</span><span class="pun">[</span><span class="str">"isMacServerAsrEnabled"</span><span class="pun">]</span><span class="pln"> </span><span class="pun">===</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> asrOpenType </span><span class="pun">===</span><span class="pln"> </span><span class="str">'server'</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">isMacSafari</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> isMacServerAsrEnabled</span><span class="pun">);</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>            <li class='l' id=isServerAsrAvaliable>
                <h3>isServerAsrAvaliable:<i> ( lines: 1 characters: 4 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">true</span></pre>
</li>            <li class='l' id=isWindows>
                <h3>isWindows:<i> ( lines: 3 characters: 90 arguments: 0 )</i></h3>
                <br>
                <pre>  <span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><br><span class="pln"> </span><span class="kwd">return</span><span class="pln"> navigator</span><span class="pun">.</span><span class="pln">platform</span><span class="pun">.</span><span class="pln">toLowerCase</span><span class="pun">().</span><span class="pln">indexOf</span><span class="pun">(</span><span class="str">'win'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&gt;=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> </span><br><span class="pln"> </span><span class="pun">}</span></pre>
</li>        </ul>
    </body>
</html>
